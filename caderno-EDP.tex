\documentclass[a4paper, 11pt]{article}
\usepackage[margin=2.5cm]{geometry}	
\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

\usepackage{amsmath, amsfonts, amssymb, cancel}
\usepackage{parskip}
\usepackage{enumerate}  
\usepackage{wrapfig}
\usepackage{tikz}
\usepackage{wrapfig}
\usepackage{bigfoot} %inclui o pacote perpage
\usepackage[pdfborderstyle={/S/U/W 1}]{hyperref} %esconde as caixas de links
\usepackage{chngcntr}
\usepackage{fancyhdr}
\usepackage{changepage}



%ATALHOS
\newcommand{\qed}{$\hfill\square$}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\Rn}{{\mathbb{R}^n}}
\newcommand{\rn}{{\mathbb{R}^n}}
\newcommand{\prn}{{(\mathbb{R}^n)}}
\newcommand{\p}{\partial}
\newcommand{\pu}{\partial U}
\newcommand{\e}{\epsilon}
\newcommand{\dd}{\delta}
\newcommand{\degree}{^{\circ}}
\newcommand{\pde}[2]{\frac{\p #1}{\p #2}}
\newcommand{\dirdev}[1]{\pde{#1}{\vec{\nu}}}
\newcommand{\parentesis}[1]{\left(#1\right)}
\newcommand{\mi}{\text{-}}
\newcommand{\norm}[2]{\left|\left|#1\right|\right|_{L^{#2}}}
\newcommand{\nor}[2]{||#1||_{#2}}
\newcommand{\holder}[2][k,\gamma]{{C^{#1}(\overline{#2})}}
\renewcommand{\v}{,\hspace{-2pt}}

\newtheorem{remark}{Observação}



%FORMATAÇÃO
\MakePerPage{footnote} %reinicia o contador das notas de rodapé a cada página
\renewcommand{\thefootnote}{\fnsymbol{footnote}} %muda de núm. para símbolo
\counterwithin*{section}{part} %reinicia o número do capítulo a cada parte
\pagestyle{fancy}
\setlength{\headheight}{15pt}



%DADOS
\title{Estudo de Equações Diferenciais Parciais}
\author{\textit{Iniciação Científica}\\   Artur Corrêa Souza \\ Orientadora: Patrícia Guidolin}
\date{\today \\  \url{https://github.com/arcstur/caderno-EDP}}



%DOCUMENTO
\begin{document}
\maketitle
\tableofcontents

% \include{IMPA.tex}

\setcounter{part}{1}
\part{Espaços de Sobolev}
Espaços de Sobolev são úteis para usar conhecimentos de análise funcional nas EDPs. A ideia é converter uma EDP em dois espaços de funções \( X,Y \) e um operador \( A:X \rightarrow Y \).

\newcommand{\sobolevdef}{W^{k,p}(U)}
\newcommand{\sobolevum}{W^{1,p}(U)}
\newcommand{\sobolevloc}{W^{k,p}_{loc}(U)}

\section{Espaços de Hölder}

Uma função \( u:U\rightarrow \R \) é lipschitz se existe \( C \) tal que \( |u(x)-u(y)| \leq C|x-y| \), e pela definição, é contínua. Agora, existe uma variação.

Dado \( U \) aberto e \( 0 < \gamma \leq 1 \), uma função é dita ser \textbf{Hölder contínua} com expoente \( \gamma \) se \[ |u(x)-u(y)| \leq C |x-y|^\gamma \]

\paragraph{Definições} \begin{enumerate}[(i)]
	\item Se \( u:U \rightarrow \R \) é limitada e contínua, \[ ||u||_{C(\overline{U})} := \sup_{x \in U} |u(x)| \]
	\item A semi norma \( \gamma \)-Hölder de \( u:U \rightarrow \R \) é \[ [u]_{C^{0,\gamma}(\overline{U})} := \sup_{x\neq y \in U} \left( \frac{|u(x) - u(y)|}{|x-y|^\gamma}\right) \] (ou seja, é a constante \( C \)). E a \textbf{norma} \( \gamma\)-Hölder é \[ ||u||_{C^{0,\gamma}(\overline{U})} := ||u||_{C(\overline{U})} + [u]_{C^{0,\gamma}(\overline{U})} \]
\end{enumerate}

\paragraph{Definição} O espaço de Hölder \[ \holder{U}  \] consiste das funções \( \holder[k]{U} \) que a norma \[ ||u||_{\holder{U}} := \sum_{|\alpha|\leq k} || D^\alpha u ||_{\holder[]{U}} + \sum_{|\alpha|=k} [ D^\alpha u ]_{\holder[0,\gamma]{U}} \] é finita. É o espaço das funções \( k\) vezes diferenciáveis e \( \gamma \)-Hölder contínua nas derivadas de ordem \( k \). É um espaço muito bem comportado.

\paragraph{Teorema} O espaço de Hölder \( \holder{U} \) é um espaço de Banach.


\section{Espaços de Sobolev}

Os espaços de Hölder exigem bastante das funções, o que não é tão bom para as EDPs.

\subsection*{Derivada fraca}

Considere o seguinte problema: dada $f \in C([a,b])$, encontre uma função $u$ satisfazendo

\[ \begin{cases}
-u'' +u =f \ \ \mbox{ em } \ \ [a,b] \\
	u(a)=u(b)=0.
\end{cases} \]
Uma solução clássica deste problema é uma função $C^2([a,b])$ satisfazendo o problema acima no sentido usual. Mas agora, ignore esse fato e multiplique a equação $-u'' +u =f $ por $\phi \in C^1([a,b])$ com $\phi(a)=\phi(b)=0$ e integre por partes.
\begin{align}\label{sobolev-fraca-1}
\int_a^b -u'' \phi dx +  \int_a^b u \phi dx =  \int_a^b f \phi dx\nonumber \\
\underbrace{\left. u' \phi \right]_a^b}_{0} + \int_a^b -u' \phi' dx +  \int_a^b u \phi dx =  \int_a^b f \phi dx \nonumber\\
\int_a^b -u' \phi' dx +  \int_a^b u \phi dx =  \int_a^b f \phi dx .
\end{align}
Note que \eqref{sobolev-fraca-1} faz sentido quando $u \in C^1([a,b])$, enquanto que a equação  $-u'' +u =f $ requer duas derivas para $u$. Na verdade é suficiente que $u, u' \in L^1([a,b])$, onde $u'$ tem um significado que ainda precisa ser formulado. A ideia é obter uma solução mais ``fraca'' para a equação $-u'' +u =f $.

Na tentativa de motivar a definição de derivada fraca, considere $C^{\infty}_c (U)$ o espaço das funções $ \phi :U \longrightarrow \mathbb{R}$ infinitamente diferenciáveis com suporte compacto. Chamaremos $\phi$ de função teste.

Dada uma função $u \in C^1(U)$, se $\phi \in C^{\infty}_c (U)$, por integração por partes vale

\begin{equation}
	\int_{U} u \phi_{x_i} dx = - \int_{U} u_{x_i} \phi dx.
\end{equation}

Mais geralmente, se $u \in C^k(U)$ e $\alpha=(\alpha_1, \alpha_2, \cdots, \alpha_n)$ um multi-índice com $|\alpha|= \alpha_1 + \cdots +\alpha_n= k$, então

\begin{equation}\label{sobolev-fraca-2}
\int_{U} u D^{\alpha}\phi dx = (-1)^k \int_{U} D^{\alpha}u \phi dx,
\end{equation}

onde $D^{\alpha} \phi= \frac{\partial ^{\alpha_1}}{\partial x_1^{\alpha_1}}\cdots \frac{\partial ^{\alpha_n}}{\partial x_n^{\alpha_n}}\phi$.

Note que \eqref{sobolev-fraca-2} vale se $u \in C^k(U)$, ou seja, $u$ é $k$ vezes continuamente diferenciável e $D^{\alpha}u$ é a derivada clássica (derivada no sentido usual) de $u$. Note também, que o lado esquerdo  da igualdade faz sentido para $u \in L^1_{loc}(U)$. Como podemos exigir menos de $u$ e manter a igualdade \eqref{sobolev-fraca-2}?

Para responder a essa pergunta, definimos o conceito de derivada fraca:

\paragraph{Definição} Sejam $u,v \in L^1_{loc}(U)$ e $\alpha$ um multi-índice. Dizemos que $v$ é a $\alpha-$ésima derivada parcial fraca de $u$, e a denotamos por $D^{\alpha}u,$ se 

\begin{equation}\label{derivadafraca}
   \int_{U} u D^{\alpha}\phi dx = (-1)^{|\alpha|} \int_{U} v \phi dx  \ \ \ \ \forall \phi \in C^{\infty}_c(U).
   \end{equation}

Em que \( C^{\infty}_c (U) \) é o espaço das funções infinitamente diferenciáveis \( \phi:U\rightarrow \R \), com suporte compacto em \( U \), chamadas de \textit{funções teste}. 

\paragraph{Lema}(Unicidade da derivada fraca) A $\alpha$- ésima derivada parcial fraca de uma função $u$, se existir, é definida de maneira única, a menos de um conjunto de medida zero.
\textit{Demonstração.} Sejam $v, \tilde{v} \in L^1_{loc}(U)$ soluções fracas de $u$, então
 \begin{align*}
     \int_{U}u D^{\alpha}\phi \ dx = (-1)^{|\alpha|} \int _U v \phi \ dx= (-1)^{|\alpha|} \int _U \tilde{v} \phi \ dx,
 \end{align*}
isto é,
\begin{align*}
    \int_{U} (v - \tilde{v}) \phi \ dx = 0 \ \ \ \forall \phi \in C^{\infty}_c(U).
\end{align*}
Concluindo assim que $v-\tilde{v}=0$ q.t.p \qed
\subsection*{Definição}

Seja \( 1\leq p \leq \infty \) e \( k \in \N \). O espaço de sobolev \[ W^{k,p}(U) \] consiste de todas funções somáveis \( u:U\rightarrow\R \) que tenham derivadas \( D^\alpha u \), com \( |\alpha|\leq k \), no sentido das distribuições (derivada fraca), e que elas pertençam a \( L^p(U) \).

\begin{remark}
	Mais adiante veremos que $W^{k,p}(U)$ são espaços de Banach e $ W^{k,2}(U) = H^k(U)$ é um espaço de Hilbert.
\end{remark}
\paragraph{Norma} para \( u \in W^{k,p}(U) \) é \[ ||u||_{W^{k,p}(U)} := \begin{cases}
	\left[ \sum_{|\alpha|\leq k} \int_U \left| D^{\alpha} u\right|^p\ dx  \right]^{1/p}\\
	\sum_{|\alpha|\leq k} \text{ess}\sup_U \left| D^{\alpha} u \right| & p=\infty
\end{cases}\]Para o supremo essencial, valores de conjuntos de medida zero não interferem no supremo. No caso de \( p=2 \), temos o espaço de Hilbert \( H^k(U) \) com a norma acima induzida pelo produto interno \( (u,v) =\sum_{|\alpha|\leq k} \int_U D^{\alpha}u \cdot D^\alpha v   \)

\paragraph{Convergência} Dizemos que \( u_m \rightarrow u\) em \( W^{k,p}(U) \) se \( \lim_{n\rightarrow \infty} ||u_m - u||_{W^{k,p}(U)} =0\)

\paragraph{Fecho} Denotamos \( W^{k,p}_0 (U) \) o fecho de \( C^{\infty}_c(U) \in W^{k,p}(U) \). Ou seja, \( u \in W^{k,p}_0(U) \) se existem funções \( \phi_i \in C^{\infty}_c(U) \) tal que \( \phi_i \rightarrow u \) em \( W^{k,p}(U) \). As funções nesse conjunto possuem valor zero na fronteira de \( U \). Na verdade, veremos mais adiante que $u \in  W^{k,p}_0 (U)$ se, e somente se, $u$ se anula na fronteira.

%\paragraph{Teorema de Poincaré} Dado \( U \subset \R^n \) conjunto limitado em uma direção, então existe uma constante \( C>0 \) tal que para todo \( u \in H^1_0(U) \) temos \[ \int_U|u|^2\ dx \leq C\int_U | Du|^2\ dx \] Se definimos \( |u|_1 = \left(\int_U |Du|^2\ dx\right)^{1/2} \) em \( H^1_0(U) \) obtemos uma norma equivalente (com desigualdades por cima e por baixo) a norma definida anteriormente. Uma consequência do Teorema é que \( H^1_0 (U) \neq H^1(U) \).

\paragraph{Propriedades} das derivadas fracas. Lembremos que as funções no espaço de Sobolev nem sempre são suaves. Seja \( u,v \in W^{k,p}(U), |\alpha| \leq k \). Então, \begin{enumerate}[(i)]
	\item \( D^\alpha u \in W^{k-|\alpha|, p}(U) \) (a cada derivada, perde-se \( 1 \) no \( k \)), e\\ \( D^\beta(D^\alpha u)=D^\alpha(D^\beta u) = D^{\alpha + \beta}u \) para todos multiíndices com \( |\alpha|+ |\beta| \leq k \)
	\item \(a, b \in \R \), \( au + bv \in W^{k,p}(U) \) e \( D^\alpha(au +bv) = aD^\alpha u + bD^\alpha v \), com \( |\alpha|\leq k \)
	\item Se \( V \subseteq U \) aberto, então \( u \in W^{k,p}(V) \)
	\item Se \( \phi \in C^\infty_c(U) \), então \( \phi u \in W^{k,p}(U) \) e \[ D^\alpha(\phi u) = \sum_{\beta \leq \alpha} \binom{\alpha}{\beta} D^\beta \phi D^{\alpha - \beta}u \] (fórmula de Leibniz)
\end{enumerate}

Muitas propriedades das derivadas clássicas se mantém nas derivadas fracas.

\paragraph{Banach} Os espaços de Sobolev \( W^{k,p}(U) \) são espaços de Banach. Basta provar que a norma definida anteriormente é uma norma, e que o espaço é completo (usar que \( L^p \) é um espaço de Banach).

\textit{Demonstração.} Seja \( || \cdot ||= ||\cdot ||_{\sobolevdef} \). Podemos ver que \( ||\lambda u|| = |\lambda| ||u|| \). A norma só vai ser zero se todas derivadas, incluindo a função, forem zero para todo ponto. Ou seja, \( u \equiv 0 \). Para a desigualdade triangular, basta usar a desigualdade de Minkowski para as normas \( L^p \): \begin{align*}
	||u+v|| &= \left( \sum_{\alpha \leq k}\int_U | D^\alpha u + D^\alpha v |^p\ dx \right)^{1/p} \\
	&= \left( \sum_{\alpha \leq k} ||D^\alpha u+D^\alpha v||_{L^p}^p \right)^{1/p}\\
	&\leq  \left( \sum_{\alpha \leq k} (||D^\alpha u||_{L^p}+||D^\alpha v||_{L^p})^p \right)^{1/p}\\
	&\leq  \left( \sum_{\alpha \leq k} ||D^\alpha u||_{L^p}^p \right)^{1/p}+\left( \sum_{\alpha\leq k} ||D^\alpha v||_{L^p}^p \right)^{1/p} = ||u|| + ||v||
\end{align*}

Agora, seja \( u_m \) uma sequência em \( W^{k,p}(U)\Rightarrow L^p(U) \). Como \( L^p(U) \) é um espaço de Banach, ela tem um limite em \( L^p(U) \). As derivadas também são uma sequência em \( L^p(U) \).

Ou seja, \( u_m \rightarrow u \in L^p(U) \) e \( D^\alpha u_m \rightarrow u_{\alpha} \in L^p(U) \)

Queremos provar que \( u \in W^{k,p}(U) \) e que \( D^\alpha u = u_\alpha \).

Seja \( \phi \in C^\infty_c(U) \)
\begin{align*}
	\int_U u D^\alpha \phi\ dx &= \int \lim_{m \rightarrow \infty} u_m D^\alpha \phi \ dx	\\
	&= \lim_{m \rightarrow \infty} \int  u_m D^\alpha \phi \ dx	\\
	&= \lim_{m \rightarrow \infty} (-1)^{|\alpha| }\int D^\alpha  u_m \phi \ dx\\
	&= (-1)^{|\alpha| }\int  \lim_{m \rightarrow \infty} D^\alpha  u_m \phi \ dx		\\
	&= (-1)^{|\alpha| }\int  u_\alpha \phi \ dx
\end{align*}
Então, \( u \in W^{k,p}(U) \), porque todo \( D^\alpha u = u_\alpha \) está em \( L^p(U) \).\qed







\section{Aproximações}

Em vez de sempre voltar à definição de derivada fraca, vamos aproximar as funções nos espaços de Sobolev por funções suaves.

\subsection{Aproximações no interior}

Seja \[ \eta(x):= \begin{cases}
	C \exp\left(\frac{1}{|x|^2-1}\right) & |x|<1\\
	0
\end{cases} \] o molificador padrão e \( \eta_\e(x):= \frac{1}{\e^n}\eta\left(\frac{x}{\e}\right) \). Seja \( U_\e = \{x \in U \mid d(x, \p U) > \e\} \), é entrar um \( \e \) para dentro do domínio.

\paragraph{Teorema} Seja \( u \in W^{k,p}(U), 1 \leq p < \infty \) e seja \[ u_\e = \eta_\e * u\quad  \text{ em } U_\e\] Então, \begin{enumerate}[(i)]
	\item \( u_\e \in C^\infty(U_\e) \)
	\item \( u_\e \rightarrow u \) em \( W^{k,p}_{loc}(U) \)
\end{enumerate}

\textit{Demonstração.}

A primeira já provamos anteriormente, quando estudamos a convolução. Agora, vamos provar que \[ D^\alpha u_\e = \eta_\e * D^\alpha u \quad \text{ em } U_\e\] lembrando que \( \eta_\e \in C^\infty_c \). Então \begin{align*}
	D^\alpha u_\e(x) &= D^\alpha \int_U \eta_\e(x-y) u(y)\ dy\\
	&=  \int_U D^\alpha_x \eta_\e(x-y) u(y)\ dy\\
	&=  (-1)^{|\alpha|} \int_U D^\alpha_y \eta_\e(x-y) u(y)\ dy\\
	&= (-1)^{|\alpha|}(-1)^{|\alpha|}  \int_U \eta_\e(x-y) D^\alpha u(y)\ dy\\
	&=  \int_U \eta_\e(x-y) D^\alpha u(y)\ dy = \eta_\e * D^\alpha u
\end{align*}

Por fim, seja \( V \subset\subset U \). Pelo que provamos acima, \( D^\alpha u_\e \rightarrow D^\alpha u \) em \( L^p(U_\e) \Rightarrow L^p(V) \) (é a propriedade dos molificadores, eles convergem em \( L^p_{loc}(U) \)). Então, \[ ||u_\e - u||^p_{W^{k,p}(V)} = \sum_{|\alpha|\leq k} ||D^\alpha u_\e - D^\alpha u||^p_{L^p(V)} \rightarrow 0\] \qed

\subsection{Aproximações}

Agora vamos aproximar em \( \sobolevdef \) e não somente \( \sobolevloc\). Não vamos depender da suavidade de \( \pu \).

\paragraph{Teorema} Seja \( U \) limitado e \( u \in \sobolevdef \) para \( 1\leq p < \infty \). Então, existem funções \( u_m \in C^{\infty}(U) \cap \sobolevdef \) tal que \[ u_m \rightarrow u \quad \text{ em }\sobolevdef \]

\textit{Demonstração.}

Seja \( U_i := \{ x \in U \mid dist(x, \pu) > 1/i\} \quad i \in \N^*\), ou seja, adentrar \( 1/i \) no domínio. \( U = \bigcup_{i=1}^\infty U_i \). Seja \( V_i := U_{i+3} - \overline{U}_{i+1} \) (vai ser um anel). Seja \( V_0 \subset\subset U \) tal que \( U=\bigcup_{i=0}^{\infty}V_i \).

Seja \( \{\zeta_i\}_{i=0}^{\infty} \) uma \href{https://en.wikipedia.org/wiki/Partition_of_unity}{partição da unidade} subordinada aos conjuntos abertos \( \{V_i\} \). Ou seja, \[ \begin{cases}
	0 \leq \zeta_i \leq 1 \\
	\zeta_i \in C^\infty_c(V_i)\quad  \text{ (suporte em } V_i \text{)}\\
	\sum_{i=0}^{\infty} \zeta_i(x) = 1 \quad x \in U
\end{cases} \] Ou seja, cada \( \zeta_i \) só existe em \( V_i \), e a soma de todas as \( \zeta_i \) em cada ponto dá 1. Podemos ver que \( u=\sum_{i=0}^{\infty}\zeta_iu \). Agora, seja \( u \in \sobolevdef \). Então, pelo que provamos antes, \( \zeta_iu \in \sobolevdef \). Além disso, \( \text{supp}(\zeta_i u) \subset V_i \).

Fixe \( \delta>0\). Escolha \( \e_i>0 \) tão pequeno que \[ u_i := \eta_{\e_i} * \left(\zeta_iu\right) \] satisfaz \[ \begin{cases}
	||u_i - \zeta_iu||_{\sobolevdef} \leq \frac{\delta}{2^{i+1}} & i \in \N \\
	\text{supp}(u_i) \subset W_i & i \in \N^*
\end{cases} \] com \( W_i := U_{i+4} - \overline{U}_i, i \in \N^* \). Podemos ver que \( V_i \subset W_i \). 

Aqui, estamos exigindo um suporte para \( u_i \) maior que o suporte da \( \zeta_iu \), o que faz sentido pois o suporte compacto da convolução é limitado pela adição dos suportes compactos. Ou seja, temos que ``somar'' o suporte de \( \zeta_iu \) (que é \( V_i \)) com o suporte de \( \eta_{\e_i} \), que é \( B(0, \e_i) \). Mandando \( \e\rightarrow 0 \), o suporte do molificador vai diminuindo (segunda exigência), e a molificação vai se aproximando da função original (primeira exigência).

Por fim, seja $ v:=\sum_{i=0}^{\infty} u_i $. Essa função é \( C^\infty(U) \), pois para cada \( V \subset\subset U \) existem no máximo um número finito de termos não-nulos na soma. Ou seja, teremos um número finito pois haverá um número finito de \( \zeta_i \) não-nulas (e todas são \( C^\infty (U_\e) \), porém como tem suporte compacto, são \( C^\infty(U) \)). Como \( u=\sum_{i=0}^{\infty}\zeta_iu  \), temos que para cada \( V \subset\subset U \) 
\begin{align*}
	||v - u||_{W^{k,p}(V)} &\leq \sum_{i=0}^{\infty} ||u_i - \zeta_iu||_{\sobolevdef} \\
	&\leq \delta  \sum_{i=0}^{\infty}  \frac{1}{2^{i+1}}\\
	&= \delta
\end{align*} Pegando o supremo sobre os conjuntos \( V \subset\subset U \), temos que \( ||v-u||_{\sobolevdef} \leq \delta \). Aqui, podemos pegar o supremo pois provamos que para cada \( V \subset\subset U \) a norma é menor que \( \delta \), e esse \( \delta \) \textit{não} depende de \( V \), ele é uniforme em relação a esses \( V \).

Por fim, a função \( C^{\infty}(U) \) que aproxima \( u \in \sobolevdef \) é justamente \( \sum \eta_{\e_i} * (\zeta_i u) \).

\qed




\subsection{Aproximações globais}

Agora vamos aproximar \( u \in \sobolevdef \) não por funções em \( C^\infty(U) \) mas por funções em \( C^\infty(\overline{U}) \). Para isso, vamos exigir um pouco de suavidade de \( \pu \).

\paragraph{Teorema} Seja \( U \) aberto limitado e \( \pu \) sendo \( C^1 \). Seja \( u \in \sobolevdef \) para \( 1 \leq p < \infty \). Então, existem funções \( u_m \in C^\infty(\overline{U}) \) tal que \[ u_m \rightarrow u \quad \text{ em }\sobolevdef \]

\textit{Demonstração.} 

1. Seja \( p \in \pu  \), e como a borda é \( C^1 \) existe uma função \( C^1 \gamma:\R^{n-1}\rightarrow \R\) tal que, podendo reorganizar os eixos, temos que \[ U \cap B(p,r) = \{ x \in B(p,r) \mid x_n > \gamma(x_1, \ldots)\} \]

Defina \( V:= U \cap B(p, r/2) \).

Seja o ponto deslocado \( x_\e := x + \lambda\e e_n \) para \( x \in V, \e>0 \). Para um \( \lambda \) suficiente, a bola \( B(x_\e, \e) \) está completamente em \( U \cap B(p,r) \) para todo \( x \in V \) e pequeno \( \e>0 \).

%ver imagem na p.253 do Evans

2. Agora, seja \( u_\e(x) := u(x_\e) = u(x + \lambda\e e_n ) \) (\( x \in V \)). É a função \( u \) transladada. Ou seja, podemos pegar qualquer valor de \( x \in V \), e vamos calcular a \( u \) com o valor de um ponto mais pra cima, que esteja com uma bolinha dentro de \( U \cap B(p,r) \), conforme a explicação acima.

Seja \( v_\e :=  \eta_\e * u_\e \). Movemos a \( u \) pra cima, conforme escrito, e agora podemos molificá-la.\begin{align*}
	v_\e(x) &= \int_U \eta_\e(y) u_\e (x-y)\ dy\\
	&= \int_{B(0,\e)} \eta_\e(y) u(x_\e -y)\ dy
\end{align*}

Basicamente, vamos usar várias funções transladadas e molificadas assim, com partições da unidade, para construir a aproximação. Então, \( v_\e \in C^\infty(\overline{V}) \)

Isso porque a $u_\e$ não está definida apenas em $V$, o que faria a molificação $ C^\infty $ apenas em $V_\e$. Na verdade, para $\e$ pequeno, ela está definida em qualquer conjunto contido em $\overline{U} \cap B(p,r)$. Então, por exemplo, podemos definir a $u_\e$ em $V_2  = \overline{U} \cap B(p, 3r/4)$ e a molificação será $C^\infty(X \subset\subset V_2) \Rightarrow C^\infty(V)$.

 Isso é porque é possível pegar valores na borda de \( V \) (borda de \( U \)) e ainda assim a função estar definida porque transladamos pra cima? .

3. Agora, provamos que \( v_\e \rightarrow u \) em \( W^{k,p}(V) \). Para isso, seja\( |\alpha| \leq k \). Então, \[ ||D^\alpha v_\e - D^\alpha u||_{L^p(V)} \leq ||D^\alpha v_\e - D^\alpha u_\e||_{L^p(V)} + ||D^\alpha u_\e - D^\alpha u||_{L^p} \] O segundo termo vai pra zero com \( \e \) porque a translação é contínua na norma \( L^p \). O primeiro vai pra zero porque é uma aproximação local (teorema de antes) em \( L^p_{loc}(U) \Rightarrow L^p(V)  \).

4. Seja \( \delta >0 \). Como \( \pu \) é compacto (porque \( U \) é limitado, ou por que \( \pu \in C^1 \)?), podemos encontrar finitos \( p_i \in \pu \), com \( r_i>0 \), conjuntos \( V_i = U \cap B(p_i, r_i/2) \) e funções \( v_i \in C^\infty(\overline{V_i}) \) tal que a união das bolas \( B(p_i, r_i/2) \) dê a fronteira \( \pu \) e também \[ ||v_i - u||_{W^{k,p}(V_i)}\leq \delta \] Seja um conjunto aberto \( V_0 \subset\subset U \) tal que \( U \subset \bigcup_{i=0}^N V_i \) e escolha, usando o teorema da aproximação local, uma função \( v_0 \in C^\infty (\overline{V_0}) \) tal que ela aproxime \( u \) dentro de \( V_0 \).

5. Seja \( \{ \zeta_i \}_{i=0}^N \) uma partição suave da unidade subordinada aos conjuntos abertos \( \{V_i\}_{i=0}^N \). Seja \( v:= \sum \zeta_i v_i \). Então, \( v \in C^\infty (\overline{U}) \). Como \( u = \sum \zeta_i u \), para cada \( |\alpha|\leq k \), \begin{align*}
	||D^\alpha v - D^\alpha u||_{L^p(U)} &\leq \sum_{i=0}^{N} || D^\alpha (\zeta_i v_i) - D^\alpha (\zeta_i u)||_{L^p(V_i)}\\
	&\leq C \sum_{i=0}^N ||v_i - u||_{W^{k,p}(V_i)} = CN\delta \rightarrow 0
\end{align*}

A primeira desigualdade decorre da desigualdade triangular. A segunda desigualdade decorre da propriedade (iv), a fórmula de Leibniz, a regra do produto. Ao fazê-la com $D^\alpha(\zeta_i f)$, ficaremos com $||(D^\alpha\zeta_i v_i - D^\alpha\zeta_i u) + \ldots + (\zeta_i D^\alpha v_i - \zeta_i D^\alpha u) ||$. Assim, como $\zeta_i$ é contínua com suporte compacto e logo limitada, podemos pegar o máximo dos valores $\zeta_i, \ldots, D^\alpha\zeta_i$, como $C$. Com a soma dessas diferenças $v_i - u$ com as várias derivadas dentro da norma $L^p$, por desigualdade triangular novamente, chegamos na norma de Sobolev. \qed

\subsection*{Resumo das Aproximações}

\begin{tabular}{cccc}
	\hline
	Tipo de aproximação & Espaço de convergência & \( \{u_m\} \)  & \( u_m \) \\
	\hline
	Aproximação interior	& \( W^{k,p}_{loc}(U) \) 	& \( u_m \in C^\infty(U_\e) \) & \( u_\e = \eta_\e * u \)\\
	
	Aproximação    			& \( \sobolevdef \) 		& \( u_m \in C^\infty(U)  \) & \( u_i = \sum \eta_{\e_i} * (\zeta_i u) \) \\
	
	Aproximação global	 	& \( \sobolevdef\), $ \pu $ é $ C^1 $		& \( u_m \in C^\infty(\overline{U}) \) &  \\
	\hline
\end{tabular}





\section{Extensões}

\paragraph{Teorema da Extensão} Seja \( U \) limitado e \( \pu \) seja \( C^1 \).  Escolha um conjunto aberto e limitado \( V \) tal que \( U \subset\subset V \). Então, existe um operador linear limitado \[ E:W^{1,p}(U) \rightarrow W^{1,p}(\Rn) \] tal que para cada \( u \in W^{1,p}(U) \) \begin{enumerate}[(i)]
	\item \( Eu=u \) q.t.p em \( U \)
	\item \( Eu \) tem suporte em \( V \)
	\item \[ ||Eu||_{W^{1,p}(\Rn)} \leq C ||u||_{W^{1,p}(U)} \] com uma constante \( C \) dependendo apenas de \( p, U, V \). \footnote{definição de operador limitado.}
\end{enumerate}

\textit{Demonstração.} Seja \( p \in \pu \) e suponha que \( \pu \) é plana (reta) perto de \( p \), estando no plano \( p_n=0 \). Então, podemos assumir que existe uma bola aberta \( B \) com centro \( p \) e raio \( r \) tal que \[ \begin{cases}
	B^+ := B \cap \{ p_n \geq 0 \}  \subset \overline{U}\\
	B^- := B \cap \{ p_n \leq 0 \} \subset \Rn - U 
\end{cases} \]

Assuma que \( u \in C^\infty (\overline{U}) \) (vamos usar as aproximações da seção anterior). Defina então \[ \overline{u}(x) := \begin{cases}
	u(x) & x \in B^+ \\
	-3u(x_1, \ldots, -x_n) + 4u(x_1, \ldots, -\frac{x_n}{2}) & x \in B^-
\end{cases} \] Podemos ver que ela é contínua na borda \( x \in B^+ \cup B^- \). Seja \( u^- := \overline{u}\mid_{B^-} \) e \( u^+ := \overline{u}\mid_{B^+} \).  Podemos ver que \( u^- = u^+ \) em \( \{x_n=0\}\). Além disso, as derivadas são iguais. Para \( u^-_{x_i} \) com \( i \neq n \), vem de que \( -3 + 4 = 1 \). Para \( u^-{x_n} \), é porque \( -3 \cdot (-1) + 4 \cdot \frac{-1}{2} = 1 \). Então, \( D^\alpha u^- = D^\alpha u^+ \) em \( \{x_n=0\} \).

Não poderíamos usar, como $ u^- $, apenas $ u(x) $ pois ela não estaria definida, e nem $ u(x_1,\ldots, -x_n) $ pois não teria a mesma derivada. A solução com os coeficientes acima é genial.


Enfim, $ \overline{u} $ é contínua com derivadas contínuas, então \[ \overline{u} \in C^1(B) \]
Com esses cálculos, podemos verificar que \[ ||\overline{u}||_{W^{1,p}(B)} \leq C ||u||_{W^{1,p}(B^+)} \] com uma constante \( C \) que não depende de \( u \). $\overline{u} $ está limitada por $u$ pois ela está definida a partir de $u$, então a relação faz sentido. Por exemplo, $|\overline{u}| \leq 10  |u| $.

Caso \( \pu \) não seja plana perto de \( p \), podemos planificar a borda com uma função \( \Phi \in C^1 \) com inversa \( \Psi \) tal que \( \Phi \) planifique a borda perto de \( p \).
\( \Phi: x \rightarrow y \) em que nas variáveis \( y \) a borda é planificada. Seja \( u'(y) := u(\Psi(y)) \) (para calcular a função em \( y \), encontre o \( x \) correspondente). Aí, fazemos a mesma coisa que anteriormente. Então \[ ||\overline{u}'||_{W^{1,p}(B)} \leq C ||u'||_{W^{1,p}(B^+)} \]

Seja \( W:= \Psi(B) \) (os pontos \( x \) correspondentes à bola \( B \)). Convertendo de volta para variáveis \( x \), temos a extensão \( \overline{u} \) de \( u \) para \( W \), com \[ ||\overline{u}||_{W^{1,p}(W)} \leq C ||u||_{W^{1,p}(U)} \] Podemos majorar o lado direito pois \( \Psi(B^+) \subset  U  \).

Como \( \pu \) é compacto, existem finitos pontos \( p_i \in \pu \), conjuntos abertos \( W_i \), e extensões \( \overline{u}_i \) de \( u \) para \( W_i \), conforme acima, tal que \( \pu \subset \bigcup_{i=1}^N W_i \). Seja \( W_0 \subset\subset U \) tal que \( U \subset \bigcup_{i=0}^N W_i \), e seja \( \{ \zeta_i \} \) uma associada partição da unidade.

Seja \( \overline{u} := \sum_{i=0}^{N} \zeta_i \overline{u}_i \) com \( \overline{u}_0 = u \).  Utilizando a estimativa acima, com \( \overline{u}_i \) e \( u_i \), temos que \[ ||\overline{u}||_{W^{1,p}(\Rn)} \leq C ||u||_{W^{1,p}(U)} \]
para uma constante \( C \) que dependa de \( U,p,n \) mas não de \( u \). Além disso, podemos ajustar o suporte de \( \overline{u} \) para caber em \( V \supset\supset U \).

Por fim, escrevemos \( Eu:=\overline{u} \) e vemos que o operador é linear. 

A construção assumiu que \( u \in C^\infty(\overline{U}) \). Suponha agora que \( u \in W^{1,p}(U) \) e escolha \( u_m \in C^\infty(\overline{U}) \) como aproximação (podemos fazer isso já que \( \pu  \) é \( C^1 \)). O operador é linear e limitado, então \( Eu_m \rightarrow Eu \) é uma sequência de Cauchy convergente. \qed

\paragraph{Observação.} Embora $ \overline{u} $ não seja $ C^2 $, ela é $ W^{2,p}(B) $ (Ela não tem segunda derivada no sentido clássico, mas tem derivada fraca). Aí então, podemos usar o mesmo operador linear para fazer uma extensão, exatamente da mesma forma, de $ W^{2,p}(U) $ para $ W^{2,p}(\Rn) $.

Por outro lado, esse método não funciona para $ W^{k,p} $ com $ k>2 $.




\section{Traços}

Vamos agora assinalar valores de borda para uma função $u \in W^{1,p}(U)$, assumindo que $\pu$ é $C^1$. Se $u \in C(\overline{U})$, ela já tem valores de borda no sentido clássico. Porém, normalmente uma função em $W^{1,p}(U)$ não é contínua, e às vezes só é definida q.t.p em $U$. 

Como a borda tem medida n-dimensional de Lebesgue nula, não há sentido em dizer ``$ u $ restrita a $ \pu $''. Ou seja, a borda é um conjunto de medida zero para $u \in W^{1,p}(U)$. Logo, o valor na fronteira não é relevante.





\paragraph{Teorema dos traços} Seja $U$ limitado e $\pu$ sendo $C^1$. Então, existe um operador linear e limitado \[ T:W^{1,p}(U)\rightarrow L^p(\pu) \] tal que \begin{enumerate}[(i)]
	\item $Tu = u$ em $\pu$ se $u \in W^{1,p}(U) \cap C(\overline{U})$
	\item \[ || Tu ||_{L^p(\pu)} \leq C ||u||_{W^{1,p}(U)} \] com uma constante que depende apenas de $p$ e $U$ (definição de operador limitado)
\end{enumerate} $Tu$ é chamado de traço de $u$ em $\pu$.

\textit{Demonstração.} 1. Suponha que $u \in C^1(\overline{U})$. Assim como na demonstração anterior, seja $p \in \pu$ e seja $\pu$ plano no entorno de $p$, estando no plano $\{x_n=0\}$. Seja $B$ uma bola aberta da mesma forma que anteriormente, e $\hat{B}$ a bola concêntrica de raio $r/2$.

Escolha $\zeta \in C^\infty_c(B)$ com $\zeta\geq0$ em $B$, e com $\zeta\equiv1$ (identicamente 1) em $\hat{B}$. Seja $\Gamma$ a parte de $\pu$ contida em $\hat{B}$. Seja $x'=(x_1, \ldots, x_{n-1}) \in \R^{n-1}= \{x_n=0\}$.

\begin{figure}
	\centering
	\begin{tikzpicture}[scale=1.2]
	\node[left] at (0,0) {$\partial U$};
	\draw (0,0) -- (6,0);
	\node[right] at (4.258, 1.058) {$B$};
	\node[right] at (3.629, 0.529) {$\hat{B}$};
	\draw (3,0) circle [radius=1.5];
	\draw (3,0) circle [radius=0.75];	
	\draw [red] (2.25,0) -- (3.75,0);
	\node[above,red] at (3,0) {$r$};
	\draw[green, thick] (1.5,0) to [out=0, in=180] (2.4, 0.45) -- (3.6, 0.45) to [out=0, in=180] (4.5,0);
	\node[above, green] at (2.4, 0.45) {$\zeta$};
	\end{tikzpicture}
\end{figure}

Aí, \[
	\int_\Gamma |u|^p dx' = \int_\Gamma 1|u|^p dx' = \int_\Gamma \zeta |u|^p dx' \leq \int_{\{x_n=0\}} \zeta |u|^p dx'
\] aí, pelo teorema de Gauss-Green $ \int_U u_{x_i}\ dx = \int_{\partial U} u \vec{\nu_i}\ dS $, \[ \int_{\{x_n=0\}} \zeta |u|^p\ dx' = -\int_{B^+} \left(\zeta |u|^p \right)_{x_n}\ dx \] porque o vetor normal apontando pra fora de $B^+$ aponta pra baixo. Tirando a derivada, \[ = -\int_{B^+} |u|^p \zeta_{x_n} + p |u|^{p-1} (\text{sgn } u) u_{x_n} \zeta\ dx \]
Pela desigualdade de Young para produtos, podemos majorar o segundo termo \[ \left| p  |u|^{p-1} (\text{sgn } u ) u_{x_n} \zeta \right| \leq |u|^{p-1} |Du| \leq \frac{1}{p'}(|u|^{p-1})^{p'} + \frac{1}{p}|Du|^p \leq C\left( |u|^p + |Du|^p\right)\] ficamos com \[ \leq C \int_{B^+} |u|^p + |Du|^p\ dx \]

2.

Se $p \in \pu$ mas $\pu$ não é plana no entorno de $p$, como sempre iremos planificar a borda.

Aplicando a estimativa acima e mudando variáveis, ficamos com \[ \int_\Gamma |u|^p\ dS \leq C \int_U |u|^p + |Du|^p\ dx \] em que $\Gamma \subset \pu$ aberto contendo $p$. Elevado a $ \frac{1}{p} $ dos dois lados, à esquerda ficamos com a norma $ L^p $ e à direita com a norma de Sobolev $ W^{1,p} $.

No lado direito seria uma forma de $\Psi(B^+)$, com $\Psi$ a função inversa da planificação. Podemos majorar para $U$ pois $B^+ \subset U$.

3.

Como $\pu$ é compacto, existem finitos pontos $p_i \in \pu$ e conjuntos abertos $\Gamma_i \subset \pu$ tal que $\pu = \bigcup_{i=1}^N \Gamma_i$ com \[ ||u||_{L^p(\Gamma_i)} \leq C ||u||_{W^{1,p}(U)} \] pela desigualdade anterior.

Se definirmos \[ Tu := u \text{ em } \pu \] então \[ ||Tu||_{L^p(\pu)} \leq C ||u||_{W^{1,p}(U)} \] com uma constante que não depende de $u$.


4.

A desigualdade do operador acima vale para $u \in C(\overline{U})$. Assuma agora que $u \in W^{1,p}(U)$. Então, existem funções $u_m \in C^\infty (\overline{U})$ que convergem para $u$ em $W^{1,p}(U)$. De acordo com a desigualdade acima, temos que se $u_m$ converge, então $Tu_m$ converge também. Definimos então \[ Tu := \lim_{m\rightarrow \infty} Tu_m \] 

Finalmente, se $u \in W^{1,p}(U) \cap C(\overline{U})$, percebemos que $u_m \in C^\infty(\overline{U})$ convergem uniformemente para $u$ em $\overline{U}$. Então $Tu=u$ em $\pu$.

\qed






\paragraph{Teorema do traço nulo} Seja $U$ limitado com $\pu$ $C^1$. Suponha que $u \in W^{1,p}(U)$. Então \[ u \in W^{1,p}_0(U) \Leftrightarrow Tu =0 \text{ em } \pu \]

\textit{Demonstração.} (ida) Suponha que $ u \in W^{1,p}_0(U) $. Então, por definição, existem funções $ u_m \in C^\infty_c(U) $ tal que $ u_m\rightarrow u $ em $ W^{1,p}(U) $. Como $ Tu_m=0 $ em $ \pu $ (pois para funções $ C(\overline{U}) $, $ Tu=u $ na borda) e $ T:W^{1,p}(U)\rightarrow L^p(\pu) $ é um operador linear e limitado, então $ Tu=0 $ em $ \pu $.

(volta) Seja $ Tu=0 \text{ em } \pu $. Usando partições da unidade e planificando $ \pu $, podemos assumir que \[ \begin{cases}
	u \in W^{1,p}(\R^n_+) \\
	u \text{ tem suporte compacto em } \overline{\R}^n_+\\
	Tu=0 \text{ em } \p\R^n_+ = \R^{n-1}
\end{cases} \] Ou seja, estamos transformando $ \pu $ em $ {x_n=0} $.

Como $ Tu=0 $ em $ \R^{n-1} $, existem funções $ u_m \in C^1(\overline{\R}^n_+) $ tal que (como $\pu$ é $C^1$, o teorema garante $C^\infty$ até a borda) \[ u_m \rightarrow u  \text{ em } W^{1,p}(\R^n_+)\] e \[ u_m |_{\R^{n-1}} = Tu_m  \rightarrow Tu =0  \text{ em } L^p(\R^{n-1})\] $ Tu_m=u_m $ pois $ u_m $ é definida na borda, e converge para zero pois $Tu=0$, e é no espaço $ L^p $ pois este é o espaço de $ Tu_m $.

Sendo $ x' \in \R^{n-1} $, $ x_n\geq0 $, temos que (usando o Teorema Fundamental do Cálculo) \[ \left| u_m(x', x_n) \right| \leq | u_m(x',0) | + \int_0^{x_n} |u_{m,x_n}(x',t)| \ dt   \] 

Vamos lembrar que \( (a+b)^p \leq 2^p (a^p + b^p) \). Com isso, vamos chamar \( 2^p \) de $C$, uma constante que depende de $p$. Então, ficamos com \begin{align*}
	\left| u_m(x', x_n) \right|^p &\leq C \left[ | u_m(x',0) |^p + \left( \int_0^{x_n} |u_{m,x_n}(x',t)| \ dt \right)^p \right] \\
	&\leq C \left[ | u_m(x',0) |^p + \left( \left(\int_0^{x_n} |u_{m,x_n}(x',t)|^p \ dt\right)^{\frac{1}{p}} \left(\int_0^{x_n}1^{p'}\ dt\right)^{\frac{1}{p'}}  \right)^p \right] \\
	&\leq C\left[ | u_m(x',0) |^p + x_n^{p-1} \int_0^{x_n} |Du_{m}(x',t)|^{p}\ dt \right]
\end{align*}



Então, integrando em $\R^{n-1}$, \[ \int_{\R^{n-1}} | u_m(x',x_n) |^p\ dx' \leq C \left(  \int_{\R^{n-1}} | u_m(x',0) |^p \ dx' + x_n^{p-1} \int_0^{x_n} \int_{\R^{n-1}} | Du_m(x',t)|^p\ dx' dt  \right)\]

Aí, lembrando que $ u_m |_{\R^{n-1}} = Tu_m \rightarrow Tu=0 \text{ em } L^p(\R^{n-1})$, ou seja, a norma $L^p$ de $u_m(x',x_n=0)$ vai pra zero, então, se $m \rightarrow \infty$ \[  \int_{\R^{n-1}} | u(x',x_n) |^p\ dx' \leq C  x_n^{p-1} \int_0^{x_n} \int_{\R^{n-1}} | Du(x',t)|^p\ dx' dt  \] para q.t.p, $x_n>0$.


Agora, seja $\zeta \in C^\infty_c(\R)$ satisfazendo \[ \zeta \equiv 1 \text{ em } [0,1], \qquad \zeta \equiv 0 \text{ em } \R^+ - [0,2], \qquad 0 \leq \zeta \leq 1 \] e definimos \[ \begin{cases}
	\zeta_m(x) := \zeta (mx_n) & x \in \R^n_+ \\
	w_m := u(x)(1 - \zeta_m)
\end{cases} \]

Então, caso $ 0 \leq mx_n \leq 1 \Rightarrow 0 \leq x_n \leq \frac{1}{m} $, $\quad \zeta_m(x)=1 \Rightarrow w_m=0$.

$ \zeta \neq 0  $ somente se $ 0 \leq x_n \leq 2/m $. Então, se $ m \rightarrow \infty $, então $\zeta_m(x) = 0 $ q.t.p.

Continuando, temos que \[ \begin{cases}
	w_{m,x_n}=u_{x_n}(1 - \zeta_m) - mu\zeta' \\
	D_{x'}w_m = D_{x'}u(1-\zeta_m)
\end{cases} \]

Consequentemente, \begin{align*}
	 \int_{\R^n_+} |Dw_m - Du|^p\ dx &\leq C \int_{\R^n_+} |\zeta_m|^p |Du|^p \ dx  \\
	  & +C m^p \int_0^{2/m} \int_{\R^{n-1}} |u|^p \ dx'dt \\
	 =: A + B
\end{align*}

Isso porque \[ Dw_m - Du = \begin{bmatrix}
	w_{m, x_1} - u_{x_1} \\
		w_{m, x_2} - u_{x_2} \\
	\vdots \\
	w_{m, x_n} - u_{x_n}
\end{bmatrix}  - \begin{bmatrix}
- \zeta_m u_{x_1} \\
-\zeta_m u_{x_2} \\
\vdots \\
-\zeta_m u_{x_n} - mu\zeta'
\end{bmatrix}\] 

A $ \zeta' $ foi retirada da integral e deixada como uma constante, já que ela é $C^\infty_c$, é limitada com derivadas limitadas, dá para remover da integral.


Então $A\rightarrow 0$ se $m\rightarrow \infty$ pois $\zeta_m \rightarrow 0$ q.t.p.

Para o termo $B$, vamos usar uma desigualdade provada logo acima. \begin{align*}
	B &\leq C m^p \left(\int_0^{2/m} t^{p-1}\ dt\right)\left(\int_0^{2/m} \int_{\R^{n-1}} |Du|^p \ dx' dx_n\right) \\
	&\leq C \int_0^{2/m} \int_{\R^{n-1}} |Du|^p \ dx'dx_n \rightarrow 0 \text{ enquanto } m \rightarrow \infty
\end{align*}

Portanto, descobrimos que $ Dw_m \rightarrow Du \text{ em } L^{p}(\R^n_+)$. Como, pela definição de $w_m$, $w_m\rightarrow u$ em $ L^p(\R^n_+)$, concluímos que \[ w_m \rightarrow u \text{ em } W^{1,p}(\R^n_+) \]

Agora, como $ w_m=0 $ se $ 0 < x_n < 1/m $, podemos molificar $ w_m $ para produzir funções $ u_m \in C^\infty_c(\R^n_+) $ tal que $ u_m \rightarrow u \text{ em } W^{1,p}(\R^n_+)$. Logo, $ u \in W^{1,p}_0 (\R^n_+) $

\qed

Molificação de $w_m$: \[ u_m(x) = \int_{\R^n_+} w_m(y) \eta(x-y)\ dy \] Como é uma molificação, então $u_m \in C^\infty({\R^n_+}_\e)$ Ou seja, só é $C^\infty$ para $x_n> \e$. Porém, como $w_m=0$ se $0 < y_n < 1/m$, então podemos definir $m=1/\e$, e teremos que $w_m=0$ se $0 < y_n < \e$. Ou seja, se $y_n \rightarrow 0$, então a função dará zero, o que garante que ela seja $C^\infty({\R^n_+})$ e não apenas $C^\infty({\R^n_+}_\e)$.



\section{Desigualdades}

Queremos responder a pergunta: Se uma função $ u $ está em $ W^{1,p}(U) $, ela automaticamente está em outros espaços de Sobolev? A resposta será sim, mas dependendo dos casos \begin{enumerate}[(i)]
	\item $ 1 \leq p < n $
	\item $ p = n $
	\item $ n < p \leq \infty $
\end{enumerate}

\subsection{Gagliardo-Nirenberg-Sobolev}

Aqui, vamos assumir que $ 1 \leq p < n $, o caso (i) das opções anteriores. Vamos, inicialmente, lidar com a estimativa \[ \nor{u}{L^q(\Rn)} \leq C \nor{Du}{L^p(\Rn)}\] para todas funções $ u \in C^\infty_c(\Rn) $, e para alguma $ C>0 $, $ 1 \leq q < \infty $.

Vamos fazer uma função escalada da $ u $, para encontrar a relação entre $ q $ e $ p $: Usando $ u_{\lambda}(x):=u(\lambda x) $, temos que \[ \nor{u_{\lambda}}{L^q(\Rn)} \leq C \nor{Du_\lambda}{L^p(\Rn)}\] Aí, podemos calcular \[ \int_\Rn |u_{\lambda}|^q\ dx =  \int_\Rn |u(\lambda x)|^q\ dx = \frac{1}{\lambda^n} \int_\Rn |u(y)|^q\ dy\] Da mesma forma para $ Du $, \[ \int_\Rn |Du_{\lambda}|^p\ dx =  \lambda^p \int_\Rn |Du(\lambda x)|^p\ dx = \frac{\lambda^p}{\lambda^n} \int_\Rn |Du(y)|^p\ dy\]

Combinando isso na desigualdade, encontramos que \[ \nor{u}{L^q(\Rn)} \leq C \lambda^{1 - \frac{n}{p} + \frac{n}{q} }\] Caso o expoente de $\lambda$ não dê zero, poderíamos encontrar uma contradição mandando-o para 0 ou $\infty$. Logo, para que não haja contradição $ q = \frac{np}{n-p} $

\paragraph{Definição do Conjugado de Sobolev} Se $ 1\leq p < n $, o conjugado de Sobolev de $p$ é \[ p^* := \frac{np}{n-p} \] Perceba que $ \frac{1}{p^*} = \frac{1}{p} - \frac{1}{n}, \qquad p^* > p $


\paragraph{Teorema 1 (Desigualdade de Gagliardo-Nirenberg-Sobolev)}\label{t:sobolev-ineq-t1} Seja $ 1 \leq p < n $. Existe uma constante $C$, dependendo apenas de $p$ e $n$, tal que \[ ||u||_{L^{p^*}(\Rn)} \leq C \left|\left|Du\right|\right|_{L^{p}(\Rn)} \] para toda $u \in C^1_c(\Rn)$

Realmente precisamos que $u$ tenha suporte compacto. Por exemplo, a função $u \equiv 1$ não satisfaz a desigualdade. Mas, a constante não depende do tamanho desse suporte.

\textit{Demonstração.} Seja $p=1$. Logo, $p^* = \frac{n}{n-1}$. Como $u$ tem suporte compacto, para cada $i=1,\ldots,n$ e $x \in \Rn$, temos que \[ u(x) = \int_{-\infty}^{x_i} u_{x_i}(x_1, \ldots, y_i, \ldots, x_n) \ dy_i\] pois o valor de $u$ em $x_i \rightarrow -\infty$ é zero. Portanto, \[ |u(x)| \leq \int_{-\infty}^{+\infty} \left| Du(x_1, \ldots, y_i, \ldots, x_n) \right|\ dy_i \quad (i=1, \ldots, n)\]

Consequentemente, multiplicando para $i=1, \ldots, n$, temos que \[ |u(x)|^{\frac{n}{n-1}} \leq \prod_{i=1}^{n} \left( \int_{-\infty}^{+\infty} |Du(x_1, \ldots, y_i, \ldots, x_n)| \ dy_i \right)^{\frac{1}{n-1}}  \]

Integrando em relação a $x_1$, \begin{align*}
	\int_{-\infty}^{+\infty} |u|^{\frac{n}{n-1}}\ dx_1 &\leq \int_{-\infty}^{+\infty} \prod_{i=1}^{n} \left( \int_{-\infty}^{+\infty} |Du|\ dy_i \right)^{\frac{1}{n-1}}\ dx_1 \\
	&= \left( \int_{-\infty}^{+\infty} |Du|\ dy_1 \right)^{\frac{1}{n-1}} \int_{-\infty}^{+\infty} \prod_{i=2}^{n} \left( \int_{-\infty}^{+\infty} |Du|\ dy_i \right)^{\frac{1}{n-1}}\ dx_1 \\
	&\leq \left( \int_{-\infty}^{+\infty} |Du|\ dy_1 \right)^{\frac{1}{n-1}}  \left( \prod_{i=2}^{n} \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} |Du|\ dx_1 dy_i \right)^{\frac{1}{n-1}} 
\end{align*} com a última desigualdade surgindo da desigualdade geral de Hölder (desigualdade de Hölder para 3 ou mais funções). Ou seja, a integral em $U=\R$ do produto de $n-1$ funções menor-igual que o produto das normas $L^{n-1}(\R)$  de cada uma. O expoente $n-1$ da norma corta com o expoente já existente \( \frac{1}{n-1} \).

Continuando a integração em $x_2, x_3, \ldots, x_n$, o fator da esquerda vai recebendo $dy_2, dy_3, \ldots$, enquanto que o da direita vai diminuindo, chegando em 1, finalizando o produto em \begin{align*}
	\int_\Rn |u|^{\frac{n}{n-1}}\ dx &\leq \prod_{i=1}^{n} \left(  \int_{-\infty}^{+\infty} \cdots \int_{-\infty}^{+\infty} |Du|\ dx_1 \ldots dy_i \ldots dx_n \right)^{\frac{1}{n-1}}\\
		\int_\Rn |u|^{\frac{n}{n-1}}\ dx &= \left( \int_{\Rn} |Du|\ dx \right)^{\frac{n}{n-1}}
\end{align*}  

Essa é a estimativa para $p=1 \Rightarrow p^* = \frac{n}{n-1}$: \[ ||u||_{L^{p^*}(\Rn)} \leq ||Du||_{L^1(\Rn)} \]



Consideramos agora o caso em que $ 1 < p < n $. Aplicamos a estimativa para $p=1$ em $v:= |u|^\gamma$, em que $\gamma>1$ será escolhida tal que $ \frac{\gamma n}{n-1} = (\gamma -1 ) \frac{p}{p-1} $. Ou seja, $ \frac{\gamma n}{n-1} = \frac{np}{n-p} = p^*$. Logo, \begin{align*}
	\left(\int_\Rn |u|^{\frac{\gamma n}{n-1}}\ dx \right)^{\frac{n-1}{n}} &\leq \int_\Rn \left| D|u|^\gamma \right|\ dx = \gamma \int_\Rn |u|^{\gamma -1} |Du|\ dx \\
	&\leq \gamma \left(  \int_\Rn |u|^{(\gamma -1) \frac{p}{p-1}}\ dx \right)^{\frac{p-1}{p}} \left( \int_\Rn |Du|^p\ dx \right)^{\frac{1}{p}} \\
	\left(\int_\Rn |u|^{p^*}\ dx \right)^{\frac{1}{p^*}} &\leq C \left( \int_\Rn |Du|^p\ dx \right)^{\frac{1}{p}}
\end{align*}\qed


P.S.: Há que se fazer um pouco de álgebra para encontrar a parte final. Por exemplo, calcular que $ \frac{n-1}{n} - \frac{p-1}{p} = \frac{1}{p^*}$.



\paragraph{Teorema 2}\label{t:sobolev-ineq-t2}(estimativas para \( W^{1,p} \)) Seja \( 1\leq p < n \). Seja \(U\) aberto e limitado com \(\partial U\) sendo \(C^1\). Seja \(u \in W^{1,p}(U)\). Então, \(u \in L^{p^*}(U)\) com a estimativa \[ ||u||_{L^{p^*}(U)} \leq C ||u||_{W^{1,p}(U)} \] com uma constante \(C\) que só depende de \(p, n, U\).

\textit{Demonstração.} Como $\pu$ é $C^1$, existe uma extensão $Eu=\overline{u} \in W^{1,p}(\Rn)$, tal que $\overline{u}=u \text{ em } U$, e tal que $\overline{u}$ tem suporte compacto e $ \nor{\overline{u}}{W^{1,p}(\Rn)} \leq C \nor{u}{W^{1,p}(U)} $.

Pelos teoremas de aproximação, como $\overline{u}$ tem suporte compacto, fazendo a primeira aproximação (molificação), existem funções $ u_m \in C^\infty_c(\Rn) $ tal que \[ u_m \rightarrow \overline{u} \quad \text{ em } W^{1,p}(\Rn) \]

Agora, de acordo com o Teorema 1, como $u_m \in C^1_c(\Rn)$, então $ ||u_m - u_l||_{L^{p^*}(\Rn)} \leq C ||Du_m  - Du_l||_{L^p(\Rn)} $ para todo $m,l \geq 1$, já que toda sequência convergente é de Cauchy. Logo, \[ u_m \rightarrow \overline{u} \text{ em } L^{p^*}(\Rn) \]

Como o Teorema 1 também implica que $ ||u_m||_{L^{p^*}(\Rn)} \leq C ||Du_m||_{L^p(\Rn)} $, as duas convergências acima dão o limite \[ ||\overline{u}||_{L^{p^*}(\Rn)} \leq C ||D\overline{u}||_{L^{p}(\Rn)} \]

Essa desigualdade e as propriedades da extensão $Eu$ finalizam a demonstração, porque \begin{align*}
	 ||u||_{L^{p^*}(U)} = ||\overline{u}||_{L^{p^*}(U)} \leq ||\overline{u}||_{L^{p^*}(\Rn)} &\leq  C ||D\overline{u}||_{L^{p}(\Rn)} \\
	  ||u||_{L^{p^*}(U)}  &\leq  C ||D\overline{u}||_{L^{p}(\Rn)}
\end{align*}

Agora, como sabemos que \[ ||\overline{u}||_{W^{1,p}(\Rn)} = \left( \int_\Rn |\overline{u}|^p + |D\overline{u}|^p\ dx \right)^{1/p} \geq \left(\int_\Rn |D\overline{u}|^p\ dx \right)^{1/p} = ||D\overline{u}||_{L^p(\Rn)}\] Então, \begin{align*}
	 ||u||_{L^{p^*}(U)}  &\leq  C ||D\overline{u}||_{L^{p}(\Rn)} \\
	  &\leq  C ||\overline{u}||_{W^{1,p}(\Rn)} \\
	  &\leq   C \nor{u}{W^{1,p}(U)} 
\end{align*}\qed





\paragraph{Teorema 3 (Desigualdade de Poincaré)}\label{t:sobolev-ineq-t3} Estimativas para \( W^{1,p}_0, 1 \leq p < n\). Seja \(U\) aberto e limitado. Seja $u \in W^{1,p}_0(\mathbb{R}^n)$ para algum \(1 \leq p < n\). Então, temos que \[ ||u||_{L^q(U)} \leq C ||Du||_{L^p(U)} \] para todo \( q \in [1, p^*]\). 

\textit{Demonstração.} Como $u \in W^{1,p}_0(U)$, existem funções $u_m \in C^\infty_c(U)$ convergindo para $u$ em $ W^{1,p}(U)$. Estendemos cada função $u_m$ para ser 0 em $\Rn-\overline{U}$ e aplicamos o Teorema 1 para provar que \[ ||u||_{L^{p^*}(U)} \leq C ||Du||_{L^p(U)} \] Como $ |U| < \infty  $ (ver a parte I), \[ ||u||_{L^q(U)} \leq C||u||_{L^{p^*}(U)} \] se $1 \leq q \leq p^*$. \qed

Em decorrência da desigualdade de Poincaré, em $ W^{1,p}_0(U) $ a norma $ ||Du||_{L^p(U)} $ é equivalente a $ ||u||_{W^{1,p}}(U) $ se $U$ é limitado. Isso porque \begin{align*}
	 ||u||_{W^{1,p}(U)}^p &= \nor{u}{L^p(U)}^p + \nor{Du}{L^p(U)}^p \leq (C + 1) \nor{Du}{L^p(U)}^p \\
	 \nor{Du}{L^p(U)} \leq ||u||_{W^{1,p}(U)} &\leq C \nor{Du}{L^p(U)}
\end{align*}


\subsection{Morrey}

\paragraph{Teorema 4 (Desigualdade de Morrey)}\label{t:sobolev-ineq-t4} Seja \( n < p \leq \infty \). Então existe uma constante \( C\), dependendo apenas de \(n\) e \(p\), tal que \[ ||u||_{C^{0, \gamma}(\Rn)} \leq C ||u||_{W^{1,p}(\Rn)} \] para toda \( u \in C^1 (\Rn)\), com \[ \gamma := 1 - \frac{n}{p} \]

\textit{Demonstração.} Escolha qualquer bola $B(x,r) \subset \Rn$. Vamos provar que existe $ C(n) $ tal que \[ \frac{1}{|B|} \int_{B(x,r)} |u(y) - u(x)| \ dy \leq C \int_{B(x,r)}  \frac{|Du(y)|}{|y-x|^{n-1}}\ dy   \]

Fixe $w \in \p B(0,1)$. Então, se $0 < s < r$, \begin{align*}
	| u(x+sw) - u(x) | &= \left| \int_0^s \frac{d}{dt}u(x + tw)\ dt \right| \\
	&= \left| \int_0^s Du(x+tw)\cdot w \ dt\right| \\
	& \leq \int_0^s \left| Du(x+tw) \right| \ dt \qquad (|w|=1)
\end{align*} Então, integrando nos dois lados,
\begin{align*}
	\int_{\p B(0,1)} | u(x+sw) - u(x) |\ dS &\leq \int_0^s \int_{\p B(0,1)}  \left| Du(x+tw) \right| \ dS dt \\
	&= \int_0^s \int_{\p B(0,1)}  \left| Du(x+tw) \right| \frac{t^{n-1}}{t^{n-1}} \ dS dt 
\end{align*} Seja $y=x+tw$ tal que $t = |x-y|$. Para converter de coordenadas polares, vamos usar o $t^{n-1}$. Vamos lembrar que $\int_{\p B(0,t)}\ dS = n \alpha(n) t^{n-1} = \int_{\p B(0,1)} t^{n-1}\ dS$. Ou seja, vamos trocar a integral de $\p B(0,1)$ para $\p B(0,t)$. Desta forma, vamos conseguir a integral $B(0,s)$. No caso, como estamos fazendo $y=x+tw$, vamos trocar para $B(x,s)$. Então, \begin{align*}
\int_{\p B(0,1)} | u(x+sw) - u(x) |\ dS &\leq \int_{B(x,s)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy \\
&\leq \int_{B(x,r)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy \\
\int_0^r \int_{\p B(0,1)} | u(x+sw) - u(x) |\ dS \cdot s^{n-1}\ ds &\leq \int_0^r \int_{B(x,r)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy \cdot s^{n-1}\ ds\\
\int_0^r \int_{\p B(0,s)} | u(x+sw) - u(x) |\ dS ds &\leq \frac{r^n}{n} \int_{B(x,r)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy  \\
\int_{ B(x,r)} | u(y) - u(x) |\ dy &\leq \frac{r^n}{n} \int_{B(x,r)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy 
\end{align*}

Agora, fixe $x \in \Rn$. Então, \begin{align*}
	|u(x)| &  \leq \frac{1}{|B|}\int_{B(x,1)}|u(x) - u(y) + u(y)| \ dy \\
	  &\leq \frac{1}{|B|}\int_{B(x,1)} |u(x) - u(y)| \ dy + \frac{1}{|B|}\int_{B(x,1)}| u(y) |\ dy 
\end{align*}
Então, \begin{align*}
	|u(x)| &\leq \frac{1}{|B|}\int_{B(x,1)} |u(x) - u(y)| \ dy + \frac{1}{|B|}\int_{B(x,1)}| u(y) |\ dy \\
	&\leq C\int_{B(x,1)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy + C ||u||_{L^p(B(x,1))}
\end{align*}
Na primeira parcela utilizamos a desigualdade logo acima, na segunda parcela usamos desigualdade de Hölder em $|u(y)|$ com $p$ e $1$ com $p'$. Perceba que as constantes não dependem de $x$, apenas de $p, n$ e $U$.

Utilizando Hölder na primeira parcela e também que $B(x,1) \subset \Rn$, encontramos \[ |u(x)| \leq C \left(\int_\Rn |Du|^p \ dy \right)^{1/p}      \left(  \int_{B(x,1)} \frac{dy}{|x-y|^{(n-1)\frac{p}{p-1}}}  \right)^{\frac{p-1}{p}}      + C ||u||_{L^p(\Rn)} \] Agora, se $p>n$, significa que \begin{align*}	n &< p \\
	1 - \tfrac{1}{n} &< 1 - \tfrac{1}{p} \\
	\frac{n-1}{n} &< \frac{p-1}{p}	\\
	(n-1)\frac{p}{p-1} &< n
\end{align*} Logo, como $ \frac{1}{|x|^\alpha} $ é integrável em torno da origem se $\alpha<n$, então temos que \[ \left(  \int_{B(x,1)} \frac{dy}{|x-y|^{(n-1)\frac{p}{p-1}}}  \right)^{\frac{p-1}{p}}< \infty \]

Portanto, \begin{align*}
	|u(x)| &\leq C \left(\int_\Rn |Du|^p \ dy \right)^{1/p}          + C ||u||_{L^p(\Rn)} \\
	&\leq C ||u||_{W^{1,p}(\Rn)}
\end{align*}

Como $x \in \rn$ é arbitrário, a desigualdade recém demonstrada implica que \[ \sup_{\rn} |u| \leq C ||u||_{W^{1,p}(\rn)} \]



Seguindo, escolha dois pontos $x,y \in \rn$ e seja $r:= |x-y|$. Seja $W:= B(x,r) \cap B(y,r)$. Então, \[ |u(x) - u(y)| \leq \frac{1}{|W|}\int_W |u(x) -u(z)|\ dz + \frac{1}{|W|} \int_W |u(y) - u(z)| \ dz\]

Então, como $W \subset B(x,r)$, \[ \frac{1}{|W|} \int_W |u(x) - u(z)| \ dz \leq C \frac{1}{|B|} \int_{B(x,r)} |u(x) - u(z)|\ dz \] Agora, pela desigualdade $ \int_{ B(x,r)} | u(y) - u(x) |\ dy \leq \frac{r^n}{n} \int_{B(x,r)} \frac{|Du(y)|}{|x-y|^{n-1}}\ dy  $ e por Hölder, \begin{align*}
	 \frac{1}{|W|} \int_W |u(x) - u(z)| \ dz &\leq C \left(\int_{B(x,r)} |Du|^p \ dy \right)^{1/p}      \left(  \int_{B(x,r)} \frac{dy}{|x-y|^{(n-1)\frac{p}{p-1}}}  \right)^{\frac{p-1}{p}} \\
	 &\leq C \left( \frac{r^n}{r^{(n-1)\frac{p}{p-1}}}\right)^{\frac{p-1}{p}} ||Du||_{L^p(\rn)} \\
	 &= Cr^{1-\frac{n}{p}} ||Du||_{L^p(\rn)}
\end{align*} Porque \[ n\frac{p-1}{p} - (n-1) = \frac{np}{p} - \frac{n}{p} -n + 1 = 1 - \frac{n}{p}\]

Da mesma forma, \[ \frac{1}{|W|} \int_W |u(y) - u(z)| \ dz \leq C r^{1-\frac{n}{p}} ||Du||_{L^p(\rn)} \]

Então, \begin{align*}
	|u(x) - u(y)| &\leq \frac{1}{|W|}\int_W |u(x) -u(z)|\ dz + \frac{1}{|W|} \int_W |u(y) - u(z)| \ dz \\
	&\leq Cr^{1-\frac{n}{p}} ||Du||_{L^p(\rn)}\\
	&= C|x-y|^{1-\frac{n}{p}} ||Du||_{L^p(\rn)}
\end{align*} Portanto, \[ [u]_{C^{0, 1-n/p}(\rn)} = \sup_{x\neq y} \left\{ \frac{|u(x) - u(y)|}{|x-y|^{1-n/p}}\right\}   \leq C   ||Du||_{L^p(\rn)}    \]

Sendo $\gamma = 1 - n/p$, por fim, queremos chegar na norma de Hölder, que é $ ||u||_{C^{0,\gamma}(\overline{U})} := ||u||_{C(\overline{U})} + [u]_{C^{0,\gamma}(\overline{U})}  $. Logo, somamos $||u||_{C(\Rn)}$ nos dois lados da desigualdade acima e lembrando que \[ \sup_{\rn} |u| \leq C ||u||_{W^{1,p}(\rn)} \leq C ||u||_{L^p(\rn)}\] então

Logo, sendo $\gamma = 1 - n/p$ \begin{align*}
	[u]_{C^{0,\gamma}(\rn)}&\leq C ||Du||_{L^p(\rn)}  \\
	[u]_{C^{0,\gamma}(\rn)} + ||u||_{C(\rn)} &\leq C ||Du||_{L^p(\rn)} + ||u||_{C(\rn)} \\
	[u]_{C^{0,\gamma}(\rn)} + ||u||_{C(\rn)} &\leq C ||Du||_{L^p(\rn)} + C||u||_{L^p(\rn)} \\
	||u||_{C^{0,\gamma}(\rn)} & \leq C ||u||_{W^{1,p}(\rn)}
\end{align*}\qed

Na última parte, vamos lembrar que $ (a^p + b^p) \geq \frac{1}{2^p}(a+b)^p$, logo \begin{align*}
	||u||_{W^{1,p}}^p &= ||Du||_{L^p}^p + ||u||_{L^p}^p \\ &\geq C(||Du||_{L^p} + ||u||_{L^p}) ^p \\
	||u||_{W^{1,p}} &\geq C ||Du||_{L^p} + C ||u||_{L^p}
\end{align*}

Ou seja, devemos lembrar que $||u||_{W^{1,p}}$ é equivalente a $||u||_{L^p} + ||Du||_{L^p}$.


\paragraph{Definição} Dizemos que $u^*$ é uma versão de $u$ se $u=u^*$ q.t.p.


\paragraph{Teorema 5}\label{t:sobolev-ineq-t5} (Estimativa para \( W^{1,p}, n<p \)) Seja \(U\) aberto e limitado com borda \( C^1\). Seja \(  n<p \) e \(  u \in W^{1,p}(U)  \). Então, \(\exists u^* \in C^{0,\gamma}(\overline{U})\) com \( \gamma = 1 - \frac{n}{p}\) tal que \[ || u^* ||_{C^{0,\gamma}(\overline{U})} \leq C ||u||_{W^{1,p}(U)} \] com \(C\) dependendo apenas de \(p, n, U\).

Em decorrência do Teorema 5, sempre identificaremos uma função $u \in W^{1,p}(U), p>n,$ com sua versão contínua.

\textit{Demonstração.} Como $\pu$ é $C^1$, então existe uma extensão $Eu = \overline{u} \in W^{1,p}(\Rn)$ com as propriedades já especificadas. Como $\overline{u}$ tem suporte compacto, obtemos dos teoremas de aproximação que existem funções $ u_m \in C^\infty_c(\Rn) $ tal que \[ u_m \rightarrow \overline{u} \text{ em } W^{1,p}(\Rn) \]

De acordo com o \nameref{t:sobolev-ineq-t4}, com $\gamma = 1 - n/p$, como $u_m \in C^1$, \[ ||u_m - u_l||_{C^{0,\gamma}\prn} \leq C ||u_m - u_l||_{W^{1,p}\prn} \] para todo $l,m\geq1$.  Como $||u_m - u_l||_{W^{1,p}\prn} \rightarrow 0$ pois $u_m \rightarrow \overline{u}$, então $||u_m - u_l||_{C^{0,\gamma}\prn} \rightarrow 0$. Logo, existe um limite para $u_m$ com a norma $C^{0,\gamma}\prn$. Seja $u^*$ esse limite. Então, $\exists u^* \in C^{0,\gamma}\prn$ tal que \[ u_m \rightarrow u^* \text{ em }C^{0,\gamma}\prn  \]

Devido a essas duas aproximações, $u^* = \overline{u} \text{ q.t.p em } \Rn$.  Como $\overline{u}=u \text{ q.t.p em } \Rn$, então $u^* = u \text{ q.t.p em } U$.

O Teorema 4 também implica que $||u_m||_{C^{0,\gamma}\prn} \leq C ||u_m||_{W^{1,p}\prn}$, já que $u_m \in C^1$. Mandando $m \rightarrow \infty$ nesta desigualdade, temos que \begin{align*}
	 ||u^*||_{C^{0,\gamma}\prn} &\leq  C ||\overline{u}||_{W^{1,p}\prn}  \\
	  ||u^*||_{C^{0,\gamma}(\overline{U})}  \leq ||u^*||_{C^{0,\gamma}\prn} &\leq  C ||\overline{u}||_{W^{1,p}\prn} \leq C ||u||_{W^{1,p}(U)} \\
	  ||u^*||_{C^{0,\gamma}(\overline{U})}  &\leq C ||u||_{W^{1,p}(U)}
\end{align*}
\qed


\subsection{Desigualdades Gerais}

\paragraph{Teorema 6 (desigualdades gerais)} Seja $U$ aberto e limitado de borda $C^1$. Seja $u \in W^{k,p}(U)$

\begin{enumerate}[(i)]
	\item Se \[ k < \frac{n}{p} \] então \(u \in L^q(U) \) com \( \frac{1}{q} = \frac{1}{p} - \frac{k}{n}\) tal que \[ ||u||_{L^q(U)} \leq C ||u||_{W^{k,p}(U)} \]
	
	\item Se \[ k > \frac{n}{p} \] então \(u \in C^{k- \left[\frac{n}{p}\right] - 1, \gamma}(\overline{U})\) com \[ \gamma = \begin{cases}
		\left[\frac{n}{p}\right] + 1 - \frac{n}{p}, \text{ se } \frac{n}{p} \notin\Z \\
		\text{ qualquer positivo } < 1, \text{ se } \frac{n}{p} \in \Z
	\end{cases} \] tal que \[ ||u||_{C^{k- \left[\frac{n}{p}\right] - 1, \gamma}(\overline{U})} \leq C ||u||_{W^{k,p}(U)} \]
\end{enumerate}

O valor $ \left[\frac{n}{p}\right] $ é o valor inteiro de $n/p$. As constantes dependem apenas de $k,p,n,\gamma, U$.

Perceba que (i) é uma generalização do \nameref{t:sobolev-ineq-t2}, e (ii) é uma versão do \nameref{t:sobolev-ineq-t5}.

\textit{Demonstração.}\begin{enumerate}[(i)]
	\item Seja $k < \frac{n}{p}$. Então, \( p < \frac{n}{k} \) e podemos usar os teoremas que exigem $p<n$.
	
	Seja $\alpha, \beta, \gamma, \delta$ tal que $|\alpha|=k, |\beta|=k-1, |\gamma|=k-2, |\delta|=k-3$.
	
	Como $|\beta|=k-1$ então $D^\beta u \in W^{k - |\beta|,p}(U) = W^{1,p}(U)$. Logo, aplicando o \nameref{t:sobolev-ineq-t2} em $D^\beta u$ temos que  \begin{align*}
		||D^\beta u||_{L^{p^*}(U)} &\leq C || D^\beta u ||_{W^{1,p}(U)} \\ &= C\left( ||D^\beta u||^p + ||D(D^\beta u)||^p \right)^{1/p} \\
		&\leq C ||u||_{W^{k,p}(U)}
	\end{align*}
	
	Então, $u \in W^{k-1,p^*}(U) = W^{|\beta|, p^*}$ pois a relação acima vale para todo $|\beta|\leq k-1$, pois $ W^{k-1,p}, W^{k-2,p}, W^{k-3,p}, \ldots, W^{2,p} \subset W^{1,p} $.
	
	Então, pelo mesmo raciocínio de antes temos que $ D^\gamma u \in W^{|\beta| - |\gamma|,p^*} = W^{1,p^*} $. Então, aplicando o Teorema 2 em $D^\gamma u \in W^{1,p^*}(U)$ temos \begin{align*}
		||D^\gamma u||_{L^{p^{**}}(U)} &\leq C ||D^\gamma u ||_{W^{1,p^*}(U)} \\ &\leq C ||D(D^\gamma u)||_{L^{p^*}(U)}\\ &= C ||D^\beta u||_{L^{p^*}(U)}
	\end{align*}
	
	Então, continuamos descendo nas derivadas e encontrando que $u \in W^{k-2, p^{**}}$ com $\frac{1}{p^{**}} = \frac{1}{p^*} - \frac{1}{n} = \frac{1}{p} - \frac{2}{n}$ e assim por diante: \begin{align*}
		||D^\beta u||_{L^{p^*}(U)} &\leq C ||u||_{W^{k,p}(U)} & u \in W^{k-1,p^*}(U)\\
		||D^\gamma u||_{L^{p^{**}}(U)} &\leq C ||D^\beta u||_{L^{p^*}(U)} & u \in W^{k-2, p^{**}}(U) \\
		||D^\delta u||_{L^{p^{***}}(U)} &\leq C ||D^\gamma u||_{L^{p^{**}}(U)} & u \in W^{k-3, p^{***}}(U) \\
		\vdots &\leq \vdots \\
		||u||_{L^{p^{k*}}(U)} &\leq C ||u||_{W^{k,p}(U)} & u \in W^{0, p^{k*}(U)} = L^{p^{k*}}(U)  
	\end{align*}
	Em que $ p^{k*} $ é dado por $ \frac{1}{p^{k*}} = \frac{1}{p} - \frac{k}{n} $. 
	
	Vemos que $ \frac{1}{p^{(k-1)*}} = \frac{n-(k-1)p}{np} = \frac{\frac{n}{p} - k + 1}{n} > \frac{1}{n} \Rightarrow p^{(k-1)*} < n$, o que garante que podemos aplicar o \nameref{t:sobolev-ineq-t2} de $p$ até $p^{(k-1)*}$.
	
	\qed
	
	
	\item Seja $k > \frac{n}{p} \notin \Z$. Vamos supor que $\frac{n}{k} < p < n$. Depois, como $p^* > p$, podemos supor novamente que $\frac{n}{k} < p < p^* < n$. Em algum momento os $p^*$ passam $n$. Seja $l$ o número de $*$ de quando isso acontece, de quando $p^{l*}>n$. Aqui, paramos as desigualdades, pois $p^{(l+1)*}$ é negativo. Ou seja, vamos provar que $u \in W^{k-l,p^{l*}}(U)$ (até o primeiro $p^*$ que passa de $n$).
	
	Vejamos um exemplo: $n=12, p=5$ e $k=5$. Temos que $k>n/p$. Então \begin{align*}
		\frac{n}{k} < p &< n & 2\v4 < 5 < 12\\
		p < p^* &< n & p^* = 8\v57\ldots\\
		p < p^* &< n < p^{**} & p^{**} = 29\v98\ldots \\
		&& p^{***} < 0 
	\end{align*}

	Logo, podemos provar que $u \in W^{k-2, p^{**}}(U)$, aplicando o teorema em $p^*$ pois $p^* < n$. Ou seja $l=2$.
	
	No caso genérico, temos que encontrar o maior valor de $l$ tal que $p^{l*}>0$. Ou seja, encontrar $l$ tal que \[ \frac{1}{p^{l*}} = \frac{1}{p} - \frac{l}{n} > 0  \] Então, é necessário que $n - lp >0$. Então, vamos escolher o maior $l$ inteiro tal que \[ l < \frac{n}{p} \] Este $l$ será $l= \left[\frac{n}{p}\right]$, a parte inteira de $n/p$. No caso do nosso exemplo $l=\left[\frac{12}{5}\right] = \left[2\v 4\right] = 2$.
	
	Então, pelo raciocínio acima, usando o \nameref{t:sobolev-ineq-t2} temos que \[  u \in W^{k-l,r}(U)   \]com $ \frac{1}{r} = \frac{1}{p} - \frac{l}{n} $.
	
	Se $u \in W^{k-l. r}(U)$, então $D^\beta \in W^{1,r}(U)$ para $|\beta|\leq k-l-1$, porque \begin{align*}
		u \in W^{k-l,r}(U) &\Rightarrow u \in W^{1,r}(U)\\
		\vdots & \Rightarrow \vdots \\
		D^\beta u \in W^{1,r}(U) &\Rightarrow D^\beta u \in W^{1,r}(U) \\
		D^\alpha u \in W^{0,r}({U}) &\Rightarrow D^\alpha \in L^r 
	\end{align*}

	Então, aplicando o \nameref{t:sobolev-ineq-t5} em toda $D^\beta u$ com $|\beta|\leq k-l-1$, temos que $D^\beta u \in C^{0, 1 - \frac{n}{r}}(\overline{U})$, já que $r>n$. Outra interpretação é pensar que se a derivada fraca de uma função é contínua, a função é contínua.
	
	
	
	
	Logo, temos que \[ u \in C^{k-l-1, 1 - \frac{n}{r}}(\overline{U}) \]
	
	Agora, para simplificar, vemos que $ 1-\frac{n}{r} = 1 - \frac{n}{p} + l = \left[\frac{n}{p}\right] + 1 - \frac{n}{p}$ e que $ k-l-1 = k - \left[\frac{n}{p}\right] - 1$. Então, \[ u \in C^{k-\left[\frac{n}{p}\right]-1, \gamma}(\overline{U}) \] para $\gamma = \left[\frac{n}{p}\right] + 1 - \frac{n}{p}$, que é 1 menos a parte decimal de $n/p$.
	
	Para a estimativa da norma, sendo $\gamma = 1 - \frac{n}{r}$,
	\begin{align*}
		||u^*||_{C^{0,\gamma}(\overline{U})} &\leq C ||u||_{W^{1,r}(U)}  \leq C ||u||_{W^{k,p}(U)}\\
		\vdots & \leq \vdots \\
		||D^\beta u^*||_{C^{0,\gamma}(\overline{U})} &\leq C ||D^\beta u||_{W^{1,r}(U)} \leq C ||u||_{W^{k,p}(U)}
	\end{align*}

	Pela definição da norma de Hölder (soma das normas de Hölder para as derivadas). Então, ao somar as desigualdades acima, encontramos
	\[ ||u||_{C^{k-\left[\frac{n}{p}\right]-1, \gamma}(\overline{U})} \leq C ||u||_{W^{k,p}(U)} \]\qed
	
	
	
	\item Seja $k>\frac{n}{p} \in \Z$. Aqui, fazemos o mesmo raciocínio de antes, encontrando $l$ tal que $p^{l*}>n$. Porém, ao tentar fazer isso, encontraremos que $r:= p^{l*}=n$. Ou seja, $l = \left[\frac{n}{p}\right]-1 = \frac{n}{p}-1$. Logo, \[ u \in W^{k-l,n}(U) \]

	Logo, $D^\alpha u \in L^n$ para $|\alpha|\leq k-l$.
	
	Então, $ D^\alpha u \in W^{k-l-|\alpha|,n}(U) $ para todo $k-l-|\alpha|\geq1 \Rightarrow k-l-1 \geq |\alpha|$. Portanto, $D^\beta u \in W^{1,n}(U)$ para $|\beta| \leq k-l-1$. Agora, como o domínio é limitado, $D^\beta u \in W^{1,s}(U)$ para todo $s \in [1,n]$. Então, pelo \nameref{t:sobolev-ineq-t2}, para todo $s \in [1,n)$, temos que $D^\beta u \in L^{s^*}(U)$, e que $s^* \in (n, \infty)$. Ou seja, se $U$ for limitado, \[f \in W^{1,n}(U) \Rightarrow f \in L^s(U) \mid 1 \leq s < \infty\]
	
	Logo, $D^\beta u \in W^{1,q}(U)$ para todo $|\beta| \leq k - \left[\frac{n}{p}\right] - 1$, com $q$ tal que $n<q<\infty$. Então, pelo teorema \nameref{t:sobolev-ineq-t5}, $D^\beta u \in C^{0,1 - \frac{n}{q}}(U)$, com a relação \[ ||D^\beta u||_{C^{0,1 - \frac{n}{q}}(\overline{U})} \leq C ||D^\beta u||_{W^{1,q}(U)} \leq C ||u||_{W^{k-l,q}} \]
	
	Então, $ u \in C^{k-l-1,\gamma}(\overline{U}) $ com $\gamma = 1 - \frac{n}{q}$ em que $n < q < \infty$. Logo, $\gamma$ pode ser qualquer real entre 0 e 1. \qed
	
	
\end{enumerate}













\section{Compacidade}

Demonstramos recentemente que $W^{1,p}(U) \subset L^{p^*}(U)$ para $1 \leq p < n,\ p^* = \frac{np}{n-p}$. Vamos agora demonstrar que $W^{1,p}(U)$ está compactamente contido em $L^q(U)$ para $1 \leq q < p^*$. Essa compacidade será fundamental para as aplicações de análise funcional linear e não-linear para EDPs nos capítulos de 6 a 9.

\paragraph{Definição.} Sejam $X$ e $Y$ espaços de Banach, $X \subset Y$. Dizemos que $X$ está compactamente contido em $Y$, escrito $X \subset \subset Y$, se \begin{enumerate}[(i)]
	\item $ ||x||_Y \leq C ||x||_X $ para uma constante $C$, com $x \in X$.
	\item toda sequência limitada em $X$ é pré-compacta em $Y$.
\end{enumerate}
\href{https://en.wikipedia.org/wiki/Compact\_embedding}{Ver definição na Wikipédia.}

\paragraph{Teorema de Rellich-Kondrachov}\label{t:sobolev-compact} Seja \(U\) aberto e limitado com \(\partial U\) sendo \( C^1 \). Suponha \(1\leq p < n\). Então \[ W^{1,p}(U) \subset\subset L^q(U) \] para cada \(1 \leq q < p^* \).

\textit{Demonstração.} Fixe $1 \leq q < p^*$. Então, pelo \nameref{t:sobolev-ineq-t2} em \ref{t:sobolev-ineq-t2}, $W^{1,p}(U) \subset L^{p^*}(U)$. Porém, como $U$ é limitado, $L^{p^*}(U) \subset L^q(U)$ para $q<p^*$, por Hölder. Logo, \[ W^{1,p}(U) \subset L^q(U), \ ||u||_{L^q(U)} \leq C ||u||_{W^{1,p}(U)} \] 

Agora, resta provar que se $u_m$ é uma sequência limitada em $W^{1,p}(U)$, então existe uma subsequência $u_{m_j}$ que converge em $L^q(U)$.

Então, seja $\{u_m\}_{m=1}^\infty$ uma sequência limitada em $W^{1,p}(U)$. Ou seja, tal que $\sup_m ||u_m||_{W^{1,p}(U)} < \infty$.

Devido ao Teorema da Extensão, podemos supor sem perda de generalidade $U=\Rn$ e que as funções $\{u_m\}_{m=1}^\infty$ têm suporte compacto em $V \subset \Rn$. Podemos fazer isso pois duas funções iguais q.t.p. são elementos iguais em $W^{1,p}(U)$.

Primeiro, vamos analisar as funções suaves \[ u_m^\e := \eta_\e * u_m \] com $ \eta_\e $ o molificador padrão.  O suporte de $u_m^\e$ será a ``soma'' dos suportes de $\eta_\e$ (a bola $B(0,\e)$) com o de $u_m$ ($V$). Como $V$ não é muito importante, podemos aumentá-lo um pouco mais para que $\{u_m^\e\}$ tenham suporte compacto em $V$ também. Na verdade, uma solução melhor é pensar que dado um $\e$ pequeno, $u_m^\e$ terá suporte em $V$.

Agora, vamos demonstrar que \[ u_m^\e \rightarrow u_m \text{ em } L^q(V), \text{ uniformemente em } m\]

Para isso, sendo $u_m$ suave, \begin{align*}
	u_m^\e(x) - u_m(x) &= \int_{B(0,\e)} \eta_\e(y)u_m(x-y)\ dy\  -\  u_m(x)\\
	&= \int_{B(0,1)} \eta(y)\left(u_m(x-\e y) - u_m(x)\right)\ dy\\
	&=  \int_{B(0,1)} \eta(y) \int_0^1 \frac{d}{dt} (u_m(x-\e t y))\ dtdy \\
	&=  -\e \int_{B(0,1)} \eta(y) \int_0^1 Du_m(x - \e t y)\cdot y\ dtdy
\end{align*}
Agora, integrando em $\rn$ nos dois lados da equação, \begin{align*}
	\int_\Rn |	u_m^\e(x) - u_m(x) |\ dx &\leq \e  \int_{B(0,1)} \eta(y) \int_0^1 \int_\Rn  |Du_m(x - \e t y)|\ dx\ dt\ dy\\
	\int_V |	u_m^\e(x) - u_m(x) |\ dx &\leq \e  \int_{B(0,1)} \eta(y) \int_0^1 \int_V  |Du_m(z)|\ dz\ dt\ dy\\
	&\leq \e \int_V |Du_m(z)| \ dz
\end{align*}

O que provamos acima assume que $u_m$ é suave (a derivada utilizada
 é a clássica). Porém, pelos teoremas de aproximação, o acima é válido para $u_m \in W^{1,p}(V)$. Então, continuando,\[ 
	||u_m^\e - u_m||_{L^1(V)} \leq \e ||Du_m||_{L^1(V)} \leq \e C ||Du_m||_{L^p(V)} \leq \e C \]
A segunda desigualdade é válida pois $V$ é limitado, pois $||u||_{L^q(U)} \leq C ||u||_{L^p(U)}$ para $U$ limitado. Neste caso, usamos $q=1$. Esta desigualdade é normalmente utilizada para demonstrar que $L^p \subseteq L^q$, mas aqui utilizamos apenas a limitação. A última desigualdade decorre da hipótese de que $\{u_m\}$ é limitada.

Então, como a limitação não depende de $m$, \[ u_m^\e  \rightarrow u_m \text{ em } L^1(V), \text{ uniformemente em } m  \] 

Como $1 \leq q < p^*$, pela desigualdade de interpolação das normas $L^p$, temos que \[ ||u^\e_m - u_m||_{L^q(V)} \leq ||u^\e_m - u_m||^\theta_{L^1(V)} ||u^\e_m - u_m||^{1-\theta}_{L^{p^*}(V)} \] em que $ \frac{1}{q} = \frac{\theta}{1} + \frac{1-\theta}{p^*} $. Consequentemente, como a sequência está em $W^{1,p}(V)$, está em $L^{p^*}(V)$ por G-N-S, logo ela é limitada em $L^{p^*}$ e, então \[ ||u^\e_m - u_m||_{L^q(V)} \leq C ||u^\e_m - u_m||_{L^1(V)}^\theta \rightarrow 0 \]

Então, \( u_m^\e \rightarrow u_m \text{ em } L^q(V), \text{ uniformemente em } m\). Provamos que $\{u_m^\e\}_\e$ converge para $u_m$, mas ainda não provamos que $\{u_m\}$ converge em $L^q(V)$ (objetivo).

Agora, vamos provar que para cada $\e>0$ fixo, a sequência $\{u_m^\e\}_{m=1}^\infty$ é equilimitada (uniformemente limitada) e equicontínua. Ou seja, a sequência é feita variando $m$ e não $\e$. Para isto, vamos provar que a sequência é limitada por um valor que não depende de $m$ ou $x$, e suas derivadas são limitadas por um valor que não depende de $m$ ou $x$, assim a continuidade será feita utilizando-se da mesma constante.
\begin{align*}
	|u_m^\e(x)| &\leq \int_{B(x,\e)} \eta_\e(x-y)| u_m(y) |\ dy\\
	&\leq ||\eta_\e||_{ L^\infty(\Rn)} ||u_m||_{L^1(V) } \leq \frac{C}{\e^n} < \infty
\end{align*}
Utilizando Hölder, queremos demonstrar a desigualdade para todo $x$ e $\e$ fixos. Logo, em vez de $B(x,\e)$ usamos $\rn$. Como $u_m$ tem suporte compacto em $V$, fica $L^1(V)$ em vez de $L^1(\rn)$. Por fim, \[ ||\eta_\e||_{L^\infty(\rn)} =\left|\left|\frac{1}{\e^n} \eta\left(\frac{x}{\e}\right)\right|\right| = \frac{C}{\e^n} \] 

Da mesma forma, lembrando que $D\eta_\e(x) = \frac{1}{\e^n} D\eta(\frac{x}{\e}) \cdot \frac{1}{\e}$, 
\begin{align*}
	|Du_m^\e(x)| &\leq \int_{B(x,\e)} D\eta_\e(x-y)| u_m(y) |\ dy\\
	&\leq ||D\eta_\e||_{ L^\infty(\Rn)} ||u_m||_{L^1(V) } \leq \frac{C}{\e^{n+1}} < \infty 
\end{align*}
Logo, $\{u_m^\e\}_{m=1}^\infty$ é equilimitada e equicontínua. Agora, devemos mostrar que existe uma subsequência convergente em $L^q(V)$. Para isso, vamos lembrar que a sequência $\{u_m^\e\}_{m=1}^\infty$ possui suporte compacto em $V \subset \rn$, e é equilimitada e equicontínua. Logo, pelo teorema de Ascoli-Arzela, podemos obter uma subsequência $\{u_{m_j}^\e\}_{j=1}^\infty$ que converge uniformemente em $V$. Logo, \[
\lim_{j,k\rightarrow\infty} || u_{m_j}^\e - u_{m_k}^\e ||_{L^q(V)} = 0 \Rightarrow 	\limsup_{j,k\rightarrow\infty} || u_{m_j}^\e - u_{m_k}^\e ||_{L^q(V)} = 0 
\]

Agora, fixamos $\delta > 0$ e, como $u_m^\e \rightarrow u_m$ uniformemente em $L^q$, escolhemos $\e>0$ tal que, para todo $m$, \[ ||u_m^\e - u_m||_{L^q(V)} \leq \frac{\delta}{2} \]

Então, \begin{align*}
	|| u_{m_j} - u_{m_k} ||_{L^q(V)} &\leq || u_{m_j} - u_{m_j}^\e + u_{m_j}^\e -u_{m_k}^\e + u_{m_k}^\e -u_{m_k} ||_{L^q(V)} \\
	&\leq || u_{m_j} - u_{m_j}^\e || + || u_{m_j}^\e -u_{m_k}^\e || + || u_{m_k}^\e -u_{m_k} || \\
	&\leq \frac{\delta}{2} + || u_{m_j}^\e -u_{m_k}^\e || + \frac{\delta}{2} \\
	|| u_{m_j} - u_{m_k} ||_{L^q(V)} &\leq \delta + || u_{m_j}^\e -u_{m_k}^\e || \\
	\limsup_{j,k\rightarrow\infty} || u_{m_j} - u_{m_k} ||_{L^q(V)} &\leq \delta + 0 \leq \delta
\end{align*}
Não podemos usar o limite porque não sabemos se o limite estará definido no lado esquerdo. Provamos que a sequência de $\{u_m^\e\}$ é equilimitada e equicontínua, mas com a sequência $\{u_m\}$ não.

Agora, aplicamos um argumento tradicional de diagonalização. Dado $\delta=1$, encontramos uma subsequência $\{u_{m_j}\}$ tal que \[\limsup_{j,k\rightarrow\infty} || u_{m_j} - u_{m_k} ||_{L^q(V)} \leq 1 \qquad u_{m_1}, u_{m_2}, u_{m_3}\]

Não é possível garantir a convergência desta subsequência. Agora, tomamos ela como sequência original $\{u_m\}$, e fazemos a mesma coisa, agora para $\delta=\frac{1}{2}$, e obtemos uma subsequência da subsequência anterior em que $\limsup \leq \delta/2$.

Fazemos isso infinitamente, e pegamos um elemento de cada subsequência. Lembrando que cada subsequência é subsequência da anterior. Pegamos o primeiro elemento tal que a norma da diferença entre este e os outros é $\leq \frac{\delta}{n}$. Assim, vamos conseguir uma subsequência (da `diagonal') em que os termos ficam arbitrariamente próximos. Então, extraímos uma subsequência $\{u_{m_l}\}$ tal que \[ \limsup_{l,k\rightarrow\infty} ||u_{m_l} - u_{m_k}||_{L^q(V)} =0  \] 
\qed

\paragraph{Observação.} Como $p^*>p$ e $p^* \rightarrow \infty$ quando $p\rightarrow n$, então temos em particular \[W^{1,p}(U) \subset\subset L^p(U)\] para todo $1\leq p \leq \infty $. Observe que se $n < p \leq \infty$, então isso segue da desigualdade de Morrey e do teorema de Ascoli-Arzela. Também veja que \[W^{1,p}_0(U) \subset\subset L^p(U)\] mesmo sem assumir que $\pu$ seja $C^1$. 

\textit{Demonstração.} Primeiramente, sabemos que $W^{1,p}(U) \subset\subset L^p(U)$ para $1\leq p < n$ pela demonstração acima, já que $p \in [1,p^*)$. Agora, se $p>n$, pelo \nameref{t:sobolev-ineq-t5}, sabemos que existe uma versão contínua $u^* \in C^{0, \gamma}(\overline{U})$, que, por ser contínua, está em $L^p(U)$. Agora, como provar que \[ ||u||_{L^p(U)} \leq C ||u||_{W^{1,p}(U)} \] e que $\{u_m\}$ possui uma subsequência convergente em $L^p$. \textbf{???}








\section{Tópicos Adicionais}

Até 5.8.3 em Janeiro.


\subsection{Desigualdades de Poincaré}

\paragraph{Teorema 1}\label{t:sobolev-poincare-1} Seja \(U \subset \mathbb{R}^n \) aberto, limitado, conexo, com borda \(C^1\). Seja \(1 \leq p \leq \infty \). Então existe uma constante \(C\), dependendo apenas de \(n, p, U\) tal que \[ ||u- (u)_U ||_{L^p(U)} \leq C ||Du||_{L^p(U)} \] para cada função \(u \in W^{1,p}(U)\). O interessante é que apenas \(Du\) aparece no lado direito.

Notação: \((u)_U\) é a média de \(u\) em \(U\).

\textit{Demonstração.} Prova por contradição. Se a estimativa fosse falsa, existiria, para cada inteiro $k\geq1$ uma função $u_k \in W^{1,p}(U)$, que não seja igual à sua média q.t.p., satisfazendo \begin{equation}\label{eq:desig-poincare-1}
	 ||u_k - (u_k)_U ||_{L^p(U)} > k || Du_k ||_{L^p(U)}
\end{equation} Se existisse apenas um número finito de contraexemplos, então na verdade o teorema seria válido, pois poderia-se pegar o caso mais extremo e escolher a $C$ a partir dele. Logo, se o teorema for falso, há um número infinito de contraexemplos, conforme acima.

Então, definimos \[v_k := \frac{u_k - (u_k)_U}{||u_k - (u_k)_U||_{L^p(U)}} \]

Portanto, \begin{align*}
	(v_k)_U &= \frac{(u_k)_U - (u_k)_U}{||u_k - (u_k)_U||_{L^p(U)}} = 0 \\
	||v_k||_{L^p(U)} &= \frac{||u_k - (u_k)_U||_{L^p(U)}}{||u_k - (u_k)_U||_{L^p(U)}} = 1
\end{align*}

Logo, \eqref{eq:desig-poincare-1} com $v_k$ implica que \begin{equation}\label{eq:desig-poincare-2}
	|| Dv_k||_{L^p(U)} = \frac{||Du_k||_{L^p(U)}}{||u_k - (u_k)_U||_{L^p(U)}} < \frac{1}{k}
\end{equation}

Logo, as funções $\{v_k\}_{k=1}^\infty$ são limitadas em $W^{1,p}(U)$, pois $||v_k||=1$ e $||Dv_k||<\frac{1}{k}$. 

Pelo lema do \nameref{t:sobolev-compact}, $W^{1,p}(U)$ está compactamente contido em $L^p(U)$. Logo, como $\{v_k\}$ é uma sequência limitada em $W^{1,p}(U)$, então existe uma subsequência $\{v_{k_j}\}_{j=1}^\infty$ e uma função $v \in L^p(U)$ tal que $v_{k_j}\rightarrow v \text{ em } L^p(U)$. Da mesma forma que $v_k$ por definição, $(v)_U=0$ e $||v||_{L^p(U)}=1$.

Agora, \eqref{eq:desig-poincare-2} implica que, \begin{equation*}
	\lim_{j\rightarrow\infty} ||Dv_{k_j}||_{L^p(U)} < \lim_{j\rightarrow\infty} \frac{1}{k_j} = 0
\end{equation*} Isso garante que, se $Dv$ existe, $||Dv||_{L^p(U)}=0$. Agora, para cada $i=1,\ldots,n$ e $\phi \in C^\infty_c(U)$, deduzimos que \begin{align*}
\int_U v \phi_{x_i}\ dx = \lim_{k_j \rightarrow \infty} \int_U v_{k_j} \phi_{x_i}\ dx &= - \lim_{k_j \rightarrow \infty } \int_U v_{k_j,x_i} \phi \ dx \\ 
&=  -  \int_U \lim_{k_j \rightarrow \infty } v_{k_j,x_i} \phi \ dx \\
&= 0 \end{align*} 
Então, deduzimos que $v$ possui derivada fraca e, logo, $v \in W^{1,p}(U)$, com $Dv=0$ q.t.p. Como $U$ é conexo, $v$ é constante (ver problema \ref{prob:U-conexo_u-constante}). Como $v$ é constante e $(v)_U=0$, então $v \equiv 0$. Logo, $||v||_{L^p(U)}=0$, o que é uma contradição. Portanto, o teorema é verdadeiro. \qed



\paragraph{Teorema 2}\label{t:sobolev-poincare-2}
Seja \(1\leq p \leq \infty\). Então, para cada bola \(B(x,r)\subset \mathbb{R}^n\) e para cada função \(u \in W^{1,p}(B^0(x,r))\), existe uma constante \(C\), dependendo apenas de \(n,p\) tal que \[||u - (u)_{x,r}||_{L^p(B(x,r))} \leq Cr ||Du||_{L^p(B(x,r))}\]
Notação: \((u)_{x,r}\) é a média de \(u\) em \(B(x,r)\). \(B^0\) é a bola aberta.

\textit{Demonstração.} O caso $B^0(0,1)$ segue do teorema anterior. Sendo $u  \in W^{1,p}(B^0(x,r))$, definimos \[v(y):=u(x+ry), y \in B(0,1)\] Então, $v \in W^{1,p}(B^0(0,1))$ e, portanto, \[ || v - (v)_{0,1}||_{L^p(B(0,1))} \leq C ||Dv||_{L^p(B(0,1))}\]

Podemos ver que $Dv(y) = D_yu = Du(x+ry)\cdot r$. Agora, fazemos $v(y)=u(x+ry)$ e mudamos de variável de $y$ para $z=x+ry$. Assim, $B(0,1) \rightarrow B(x,r)$ e podemos calcular que $(v)_{0,1}=(u)_{x,r}$, logo,
\begin{align*}
	|| v - (v)_{0,1}||_{L^p(B(0,1))} &\leq C ||Dv||_{L^p(B(0,1))} \\
	|| u(x+ry) - (u)_{x,r}||_{L^p(B(0,1))} &\leq C ||D_y u(x+ry)||_{L^p(B(0,1))} \\
	|| u(z) - (u)_{x,r}||_{L^p(B(x,r))} &\leq C ||Du(x+ry)\cdot r||_{L^p(B(0,1))} \\
	&\leq C r ||Du(z)||_{L^p(B(x,r))}
\end{align*}\qed

Vejo que, na verdade, o Teorema 2 poderia se juntar ao 1: originalmente a constante $C$ depende de $n,p,U$. Ou seja, pode ser escrita como $C(n,p,U)$. Agora, no caso específico de $U=B(x,r)$, a dependência de $U$ é um fator $r$. Resumidamente, \[U = B(x,r) \Rightarrow C(n,p,U) = C(n,p)\cdot r\]







\subsection{Quocientes de Diferenças}

Seja $u:U\rightarrow \R$ uma função localmente somável e $V\subset\subset U$

\paragraph{Definição}
\begin{enumerate}[(i)]
	\item O quociente de $i$-diferenças de tamanho $h$ é \[
		D_i^h u(x) := \frac{u(x+he_i)-u(x)}{h} i=1,\ldots,n\]
	para $x \in V$ e $h \in \R$, com $0<|h|<\text{dist}(V, \pu)$
	\item $D^h u := (D_1^hu, \ldots, D_n^h u)$
\end{enumerate}

\paragraph{Teorema 3}\label{t:sobolev-quociente-de-diferenças}
\begin{enumerate}[(i)]
	\item Seja $1\leq p < \infty$ e $u \in W^{k,p}(U)$. Então, para cada $V \subset\subset U$ \[ ||D^hu||_{L^p(V)} \leq C ||Du||_{L^p(U)} \] para alguma constante $C$ e todo $0 < |h| < \frac{1}{2}\text{dist}(V, \pu)$
	
	Ou seja, $D^h u$ é limitado por $Du$ na norma $L^p$.

	\item Seja $1 < p < \infty$, $u \in L^p(V)$ e suponha que exista uma constante $C$ tal que $||D^hu||_{L^p(V)}\leq C$ para todo $0<|h|\leq \frac{1}{2}\text{dist}(V,\pu)$. Então, \[u \in W^{1,p}(V), \text{ e } ||Du||_{L^p(V)} \leq C\]
	
	Ou seja, se as funções $D^h u$ são equilimitadas em $L^p(V)$, então $Du$ também é.
\end{enumerate}

\textit{Demonstração.}
\begin{enumerate}[(i)]
	\item Seja $1 \leq p < \infty$ e que $u$ seja suave. Então, para cada $x \in V$, $i = 1,\ldots,n$ e $0<|h|<\frac{1}{2}\text{dist}(V, \pu)$ temos que \[
	u(x+ he_i) - u(x) = \int_0^1 u_{x_i}(x + the_i)\ dt \cdot he_i	
	\]
	Por que $\frac{d}{dt}u(x+the_i) = u_{x_i}(x + the_i) \cdot he_i $ e não $Du(x+the_i)\cdot he_i$ como foi feito no \nameref{t:sobolev-compact} \textbf{???}

	Então, \begin{align*}
		|u(x+he_i)-u(x)| &\leq h \int_0^1 |Du(x+the_i)|\ dt	\\
		D^h_iu = \frac{|u(x+he_i)-u(x)|}{h} &\leq \int_0^1 |Du(x+the_i)|\ dt	\\
		|D^h_iu|^p &\leq \int_0^1 |Du(x+the_i)|^p \ dt	\\
		|D^h u |^p &\leq \sum_{i=1}^n \int_0^1 |Du(x+the_i)|^p \ dt
	\end{align*}
	Porque $|v|^p \leq C (|v_1|^p + |v_2|^p + \cdots)$.

	Agora, integrando em $V$,
	\begin{align*}
		\int_V |D^h u |^p\ dx &\leq C \sum_{i=1}^n \int_V \int_0^1 |Du(x+the_i)|^p \ dt dx \\
		&= C \sum_{i=1}^n \int_0^1 \int_V |Du(x+the_i)|^p\ dx dt \\
		&\leq C \int_U |Du|^p\ dx
	\end{align*}
	\textbf{???} não entendi o porquê da última linha. Imagino que tenha a ver com fazer $z=x+the_i$, mas como $V$ vira $U$?

	A demonstração assume que $u$ seja suave. Logo, pelos teoremas de aproximação, o resultado vale para $u \in W^{1,p}(U)$.
	
	\item Agora suponha que valem as suposições do item (ii) do Teorema. Escolha $i=1,\ldots,n$ e $\phi \in C^\infty_c(V)$ e perceba que para $h$ suficientemente pequeno (que não atrapalhe no domínio de integração), \[
	\int_V u(x) \left( \frac{\phi(x+he_i) - \phi(x)}{h} \right)\ dx = - \int_V \left( \frac{u(x) - u(x-he_i)}{h} \right) \phi(x)\ dx
	\]
	Isso porque fazendo $y=x+he_i$, $dy=dx$ e \[
		\int_V u(x)\phi(x+he_i)\ dx = \int_V u(y - he_i)\phi(y)\ dy
	\] Agora, basta somar $\int_V u(x)\phi(x)\ dx$ nos dois lados e dividir por $h$ para provar a relação.
	
	A relação acima é a integração por partes dos quocientes de diferenças: \begin{equation}\label{intpartes-quocientes}
		\int_V u\ ( D_i^h \phi )\ dx = - \int_V (D_i^{-h}u)\ \phi \ dx 
	\end{equation}

	Agora, como $||D^h u||_{L^p(V)}\leq C$ para todo $0<|h|<\frac{1}{2}\text{dist}(V, \partial U)$. Agora, fazendo uma mudança de variáveis para chegar em $-h$, temos que
	\[ \sup_h ||D_i^{-h} u ||_{L^p(V)} < \infty \]

	E então, como $1<p<\infty$, existe uma função $v_i \in L^p(V)$ e uma subsequência $h_k \rightarrow 0$ tal que \[ D_i^{-h_k}u  \rightharpoonup v_i \text{ fracamente em } L^p(V)\]

	Agora, lembrando que $\phi \in C^\infty_c(V) \text{ e } L^q(V)$, \begin{align*}
		\int_V u \phi_{x_i}\ dx &= \int_U u \phi_{x_i}\ dx \\ &= \lim_{h_k \rightarrow 0} \int_U u D_i^{h_k}\phi \ dx\\
		&= - \lim_{h_k\rightarrow 0} \int_V D_i^{-h_k}u \phi \ dx \\
		&= - \int_V v_i \phi \ dx = - \int_U v_i \phi \ dx
	\end{align*}

	Logo, $v_i = u_{x_i}$ é derivada fraca de $u$. Então, $v_i \in L^p(V) \Rightarrow Du \in L^p(V)$ e, como $u \in L^p(V)$ (hipótese), então $u \in W^{1,p}(V)$.\qed

\end{enumerate}

\paragraph{Convergência fraca}\label{def:convergencia-fraca} Seja $X$ um espaço de Banach real. Uma sequência ${u_k} \subset X$ converge fracamente para $u \in X$, escrito da forma $u_k \rightharpoonup u$ se \[ \langle u^*, u_k \rangle \rightarrow \langle u^*, u \rangle \] para cada funcional linear e limitado $u^* \in X^*$.

Em especial, se $X$ é um espaço de Banach reflexivo (por exemplo, espaços de Hilbert e espaços $L^p$ para $1<p<\infty$), então para uma sequência $\{u_k\}\in X$ limitada, existe uma subsequência que converge fracamente em $X$. No caso de $L^p$, então $f_k \rightarrow f$ fracamente em $L^p(U)$ significa que \[\lim_{k\rightarrow\infty}\int_U g f_k\ dx \rightarrow \int_U gf\ dx \] para toda $g \in (L^p(U))^* = L^q(U)$. Isso \textit{não} significa que $f_k\rightarrow f$ pontualmente ou q.t.p.









\section{Outros Espaços}

\section{Problemas}

\begin{enumerate}
	\item[10.]\label{prob:U-conexo_u-constante} Seja $U$ conexo e $u \in W^{1,p}(U)$ com $Du=0$ q.t.p. em $U$. Prove que $u$ é constante q.t.p. em $U$.
	
	Se $Du=0$ q.t.p., então $\forall\alpha$ multiíndice com $|\alpha|=1$, $D^\alpha u =0$ e para toda $\phi\in C^\infty_c(U)$,\begin{align*}
		\int_U u\ D^\alpha \phi\ dx &= - \int_U D^\alpha u \ \phi \ dx \\
		\int_U u\ D^\alpha \phi\ dx &= 0\\
		&\Rightarrow u =0 \text{ q.t.p. }
	\end{align*}

	Porém, a consequência não é verdadeira. Isso porque a integral de $D^\alpha \phi$ em $U$ será sempre zero! Para uma função ser $C^\infty_c(U)$, então ``tudo que sobe deve descer'', fazendo com que a integral da derivada seja zero. Veja, por exemplo, a derivada do molificador padrão em $\R$:
	\begin{center}
		\begin{tikzpicture}[scale=1.5]
		\draw[<->, dashed] (-1.5,0) -- (1.5,0);
		\draw[domain=-0.97:0.97, samples=60] plot (\x, {-2*\x*exp(1/(-1 + \x*\x))/((pow(\x,4) -2*\x*\x + 1))});
		\end{tikzpicture}
	\end{center}

	Além disso, pode-se usar o Teorema Fundamental do Cálculo para demonstrar que a integral da derivada dará zero. Então, ao concluir que $\int_U u\ D^\alpha \phi\ dx =0$, não podemos deduzir que $u=0$ pois a integral de $D^\alpha \phi$ dará zero. 

	Para resolver o problema, dada uma função teste fixa $\eta \in C^\infty_c(U)$ de integral unitária, vamos definir $\psi \in C^\infty_c(U)$ e $A$ por \[A = \int_U \phi\ dx \quad \psi(x) = \int_U \]
	Assim \[\phi = A\eta + D^\alpha\psi\]

	Então, lembrando que $\int_U u D^\alpha \psi=0$ para toda $\psi \in C^\infty_c(U)$, temos que \begin{align*}
		\int_U u \phi\ dx = \int_U u \left( A\eta + D^\alpha\psi \right)\ dx &= A \int_U u \eta\ dx \\ 
		&= \int_U \phi\ dx \cdot \int_U u \eta\ dx \\
		&= C \int_U \phi\ dx \\
		\int_U (u - C)\phi\ dx &= 0 \\
		u &= C \text{ q.t.p.}
	\end{align*}\qed

	\textbf{???}: O estranho é que a constante parece depender da escolha de $\eta$\ldots


	\item[11.] Prove por contra-exemplo que se $||D^hu||_{L^1(V)} \leq C$ para todo $0<|h|\leq \frac{1}{2}\text{dist}(V,\pu)$, não necessariamente se segue que $u \in W^{1,1}(V)$.



	\item[18.] Use a transformada de Fourier para provar que se $u \in H^s(\Rn)$ para $s> n/2$, então $u \in L^{\infty}(\Rn)$ com a estimativa \[ ||u||_{L^\infty}(\Rn) \leq C ||u||_{H^s(\Rn)} \] em que $C$ só depende de $s,n$.
\end{enumerate}



































\end{document}
